import{_ as w}from"./search-header-DtgPJj_M.js";import{d as L,a9 as N,r as t,o as b,b as C,f as o,w as u,N as S}from"./index-BJhWTHLH.js";import{L as i}from"./user-manage-BVYWUXG6.js";import{_ as $}from"./Tree-D6b2m1OQ.js";import{_ as K}from"./Spin-DCotS9Cy.js";import"./FormItem-CZtIF2i1.js";import"./DatePicker-Cx_UomHY.js";import"./TimePicker-I8wAfOf0.js";import"./Forward-CJ8y3GqN.js";const O=L({name:"user-manage_team-map",__name:"index",setup(T){const r=N(),c=t(!1),l=t([]),p=t(""),d=t([]),_=t("all"),m=t([{type:"Input",label:"关键字",valueName:"pattern",placeholder:"请输入关键字搜索"}]);function f(e){p.value=e.pattern}async function h(){const e={};r.query.pid&&(e.pid=r.query.pid),c.value=!0;const{data:a}=await i({...e});l.value=a.map(n=>s(n)),c.value=!1}function s(e){const a={key:e.uid,id:e.uid,pid:e.pid,isLeaf:!1,label:`[用户id:${e.uid}]-[账号:${e.account}-[合伙人等级:${e.partner_name}]-[是否投资:${e.is_buy===1?"是":"否"}]-[姓名:${e.real_name?e.real_name:"/"}]`};return e.children&&(a.children=e.children.map(n=>s(n))),a}async function g(e){const{data:a}=await i({pid:e.id});a.length?e.children=a.map(n=>s(n)):e.isLeaf=!0}function y(e){d.value=e}return h(),(e,a)=>{const n=w,v=$,k=S,x=K;return b(),C("div",null,[o(x,{show:c.value},{default:u(()=>[o(k,{title:"团队图谱"},{default:u(()=>[o(n,{"search-config":m.value,onOnSearch:f},null,8,["search-config"]),o(v,{"block-line":"","show-line":"",data:l.value,pattern:p.value,"on-load":g,"expanded-keys":d.value,"check-strategy":_.value,"allow-checking-not-loaded":"",cascade:"","expand-on-click":"","onUpdate:expandedKeys":y},null,8,["data","pattern","expanded-keys","check-strategy"])]),_:1})]),_:1},8,["show"])])}}});export{O as default};
