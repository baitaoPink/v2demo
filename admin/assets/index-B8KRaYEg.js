import{_ as Kl}from"./modal-form.vue_vue_type_script_setup_true_lang-DoZbWwaq.js";import{_ as Ql}from"./search-header-BMTtF8l_.js";import{_ as Zl}from"./table-header-button-group.vue_vue_type_script_setup_true_lang-B0-DchGJ.js";import{d as Xl,u as Yl,O as Jl,cL as et,r as t,U as A,V as at,o as lt,b as tt,f as n,w as d,h as i,a1 as Re,W as ot,$ as s,B as L,g as I,t as wa,e as Ue,a8 as nt,K as st,N as it,a5 as ut,Z as dt}from"./index-CArBg04O.js";import{R as rt,S as ha,T as ct,U as mt,V as ka,W as pt,s as Sa,X as ft,x as vt,y as gt,Y as yt,h as bt,Z as wt,_ as ht,$ as kt,t as St,v as Mt,w as Ma,P as _t,r as Lt,q as Nt,a0 as Ct}from"./user-manage-BGryZnrq.js";import{x as xt,o as Ft}from"./systen-configuration-B2SRmCi_.js";import{e as Ot}from"./payment-DxDaED8h.js";import{u as T,N as _a}from"./custom-table-BTjOT39P.js";import{u as Rt}from"./exportExcel-CBd_t5dx.js";import{_ as Ut,u as Dt}from"./custom-upload-syTh6Ivv.js";import{a as Pt,_ as Bt}from"./DataTable-D8kk90MM.js";import{_ as ce}from"./Flex-BI-XPGW2.js";import"./multi-language-form.vue_vue_type_script_setup_true_lang-CILu7-Hi.js";import"./Grid-BKCm7cA2.js";import"./get-slot-Bk_rJcZu.js";import"./FormItem-DG8tpaDc.js";import"./Spin-DJsdEB-2.js";import"./DatePicker-CL3JbrfR.js";import"./TimePicker-C51DBHeq.js";import"./Forward-DBdOiGc7.js";import"./RadioGroup-CUdlQrr4.js";import"./Space-BcPIDW0k.js";function z(V){return typeof V=="function"||Object.prototype.toString.call(V)==="[object Object]"&&!dt(V)}const De="用户列表.xlsx",oo=Xl({name:"user-manage_user-list",__name:"index",setup(V){const{handleUpload:Pe}=Dt(),{routerPush:La}=Yl(),{pagination:y,renderCell:U}=T(),{pagination:b}=T(),{pagination:f}=T(),{pagination:w}=T(),{pagination:h}=T(),u=Jl(),Be=et(),{exportExcel:me,exportLoading:v}=Rt(),c=t(!1),pe=t([]),Ae=t({type:"1"}),fe=t([{type:"Input",valueName:"name",label:"账号/姓名",placeholder:"请输入账号/姓名"},{type:"Input",valueName:"account",label:"登录名",placeholder:"请输入登录名"},{type:"Select",valueName:"type",label:"用户类型",defaultOption:[{value:"1",label:"正式用户"},{value:"2",label:"试玩用户"}]},{type:"Select",valueName:"is_verified",label:"实名",placeholder:"请选择实名状态",defaultOption:[{value:"0",label:"未知"},{value:"1",label:"已认证"},{value:"2",label:"未认证"}]},{type:"Select",valueName:"is_trader",label:"导师",placeholder:"请选择导师",defaultOption:[{value:"0",label:"无"},{value:"1",label:"是"},{value:"2",label:"否"}]},{type:"Multiple Select",valueName:"svip_id",label:"Svip等级",placeholder:"请选择Svip等级",defaultOption:[],selectLabelField:"name",selectValueField:"value",itemWidth:"400px"},{type:"Multiple Select",valueName:"partner_id",label:"合伙人等级",placeholder:"请选择合伙人等级",defaultOption:[],itemWidth:"400px"},{type:"Input",valueName:"invite_code",label:"邀请码",placeholder:"请输入邀请码"}]),Na=[{label:"修改密码",value:0},{label:"修改支付密码",value:1},{label:"登录记录",value:2},{label:"余额记录",value:3},{label:"强制下线",value:4},{label:"银行卡",value:5},{label:"钱包",value:6},{label:"团队",value:7},{label:"删除",value:8}],W=[{type:"selection"},{title:"ID",key:"uid",align:"center"},{title:"账号/姓名",key:"account",align:"center",render:a=>n("div",null,[n("p",null,[a.account]),n("p",null,[a.real_name])])},{title:"正式用户",key:"is_trial",align:"center",render:a=>n(nt,{type:a.is_trial===1?"error":"success"},{default:()=>[a.is_trial===1?"否":"是"]})},{title:"是否实名/真实姓名",key:"real_name",align:"center"},{title:"性别",key:"sex",align:"center",render:a=>fa(a.sex)},{title:"是否导师",key:"is_trader_text",align:"center"},{title:"合伙人等级",key:"partner_name",align:"center"},{title:"上级用户",key:"pid_name",align:"center"},{title:"代理商",key:"agent_name",align:"center"},{title:"所属地区",key:"country_name",align:"center"},{title:"邀请码",key:"invite_code",align:"center"},{title:"Svip等级",key:"svip_name",align:"center"},{title:"上次登录IP",key:"last_ip",align:"center"},{title:"上次登录设备",key:"last_device",align:"center"},{title:"创建时间",key:"create_time",align:"center"},{title:"操作",key:"action",align:"center",width:170,fixed:"right",render:a=>{let e;return n(ce,{justify:"center"},{default:()=>[n(L,{type:"success",size:"small",onClick:cl.bind(null,a.uid)},z(e=s("common.modify"))?e:{default:()=>[e]}),n(Pt,{options:Na,"onUpdate:value":Ca.bind(null,a.uid)},{default:()=>[n(L,{size:"small"},{default:()=>[I("更多")]})]})]})}}];function Ca(a,e){switch(e){case 0:ml(a);break;case 1:pl(a);break;case 2:fl(a);break;case 3:yl(a);break;case 4:Be.warning({title:"警告",content:"确定强制下线吗？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{dl(a)}});break;case 5:kl(a);break;case 6:_l(a);break;case 7:xl(a);break;case 8:Be.warning({title:"警告",content:s("common.confirmDelete"),positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{rl(a)}});break}}const xa=["phone","country_id"],Fa=["phone","country_id","svip_id","pid","partner_id"],k=t(0),S=t(0),D=t(0),E=t(!1),Ie=t(!0),q=t(!1),j=t(!1),Te=t(!0),$=t(!1),G=t(!1),ze=t(!0),H=t(!1),K=t(!1),Ve=t(!0),Q=t(!1),ve=t(!1),We=t(!1),Ee=t(!1),ge=t(!1),qe=t(!1),je=t(!1),Z=t(!1),$e=t(!0),X=t(!1),ye=t(!1),Ge=t(!1),He=t(!1),Y=t(!1),Ke=t(!0),J=t(!1),ee=t(!1),Qe=t(!0),C=t(!1),be=t(!1),Ze=t(!1),x=t(!1),we=t(!1),Xe=t(!0),ae=t(!1),le=t(!1),Ye=t(!0),te=t(!1),he=t([]),oe=t([]),Oa=t([]),ke=t([]),ne=t([]),se=t(""),M=t([{type:"Input",valueName:"account",label:"登录名"},{type:"Input",valueName:"pwd",label:"密码",inputType:"password"},{type:"Input",valueName:"pay_password",label:"支付密码",inputType:"password"},{type:"Input",valueName:"nickname",label:"用户名"},{type:"Input",valueName:"email",label:"邮箱"},{type:"Input",inputProps:{type:"number"},valueName:"phone",label:"电话"},{type:"Radio",valueName:"sex",label:"性别",radioGroupOption:[{label:"男",value:0},{label:"女",value:1},{label:"其他",value:2}]},{type:"Select",valueName:"svip_id",label:"Svip等级",selectLabelField:"name",selectValueField:"value",selectFilter:!0},{type:"Select",valueName:"partner_id",label:"合伙人等级",selectFilter:!0},{type:"Remote Select",valueName:"pid",label:"上级用户",selectLabelField:"name",selectValueField:"value",remoteSelectLoading:!1},{type:"Select",valueName:"country_id",label:"所属地区",selectFilter:!0},{type:"Radio",valueName:"is_trial",label:"是否试玩用户",radioGroupOption:[{label:"否",value:0},{label:"是",value:1}]},{type:"Select",valueName:"agent_uid",label:"代理商",selectLabelField:"name",selectValueField:"value"},{type:"Radio",valueName:"status",label:"用户状态",radioGroupOption:[{label:"禁用",value:0},{label:"开启",value:1}]}]),g=t([{type:"Input",valueName:"account",label:"登录名",disabled:!0},{type:"Input",valueName:"nickname",label:"用户名"},{type:"Input",valueName:"email",label:"邮箱"},{type:"Input",inputProps:{type:"number"},valueName:"phone",label:"电话"},{type:"Radio",valueName:"sex",label:"性别",radioGroupOption:[{label:"男",value:0},{label:"女",value:1},{label:"其他",value:2}]},{type:"Select",valueName:"svip_id",label:"Svip等级",selectLabelField:"name",selectValueField:"value",selectFilter:!0},{type:"Select",valueName:"partner_id",label:"合伙人等级",selectFilter:!0},{type:"Remote Select",valueName:"pid",label:"上级用户",selectLabelField:"name",selectValueField:"value",remoteSelectLoading:!1},{type:"Select",valueName:"country_id",label:"所属地区",selectFilter:!0},{type:"Radio",valueName:"is_trial",label:"是否试玩用户",radioGroupOption:[{label:"否",value:0},{label:"是",value:1}]},{type:"Select",valueName:"agent_uid",label:"代理商",selectLabelField:"name",selectValueField:"value"},{type:"Radio",valueName:"status",label:"用户状态",radioGroupOption:[{label:"禁用",value:0},{label:"开启",value:1}]}]),Ra=t([{type:"Input",valueName:"pwd",label:"密码",inputType:"password"}]),Ua=t([{type:"Input",valueName:"pay_password",label:"支付密码",inputType:"password"}]),Da={account:[{required:!0,message:"请输入登录名称",trigger:["blur"]}],pwd:[{required:!0,message:"请输入密码",trigger:["blur"]}],pay_password:[{required:!0,message:"请输入支付密码",trigger:["blur"]}]},Pa={},Ba={pwd:[{required:!0,message:"请输入密码",trigger:["blur"]}]},Aa={pay_password:[{required:!0,message:"请输入支付密码",trigger:["blur"]}]},Ia=t([{type:"Slot",valueName:"loginRecord",slotName:"loginRecord"}]),Je=t([]),Ta=[{title:"登录IP",key:"ip",align:"center"},{title:"登录设备",key:"device",align:"center"},{title:"登录时间",key:"update_time",align:"center"}],Se=t(!1),F=t({}),ea=t({}),aa=t([{type:"Select",valueName:"money_type",label:"币种",placeholder:"请选择币种",selectLabelField:"name_zh",selectValueField:"money_type"}]),za=t([{type:"Slot",valueName:"balanceRecord",slotName:"balanceRecord"}]),la=t([]),Va=[{title:"ID",key:"id",align:"center"},{title:"名称",key:"account",align:"center",render:a=>a.user.account},{title:"操作钱包",key:"money_type",align:"center"},{title:"操作金额",key:"number",align:"center"},{title:"操作前的金额",key:"before_balance",align:"center"},{title:"操作后的金额",key:"balance",align:"center"},{title:"ip",key:"ip",align:"center"},{title:"类型",key:"large_type",align:"center",render:a=>jl(a.large_type)},{title:"日志内容",key:"title",align:"center"},{title:"创建时间",key:"create_time",align:"center"}],Me=t(!1),ta=t([{type:"Select",valueName:"pm",label:"类型",defaultOption:[{value:1,label:"充值"},{value:2,label:"扣款"}]},{type:"Slot",valueName:"moneyType",slotName:"moneyType",label:"钱包"},{type:"Input Number",valueName:"number",label:"金额"},{type:"Input",valueName:"mark",label:"备注"}]),Wa={pm:[{type:"number",required:!0,message:"请选择类型",trigger:["blur"]}],moneyType:[{type:"number",required:!0,message:"请选择钱包",trigger:["blur"],validator:()=>Object.keys(F.value).length===2?!0:new Error("请选择钱包")}],number:[{type:"number",required:!0,message:"请输入金额",trigger:["blur"]}]};function Ea(){Z.value=!0}function qa(a,e){a?(F.value.money_type=e==null?void 0:e.money_type,F.value.money_type_id=e==null?void 0:e.id):(Reflect.deleteProperty(F.value,"money_type"),Reflect.deleteProperty(F.value,"money_type_id"))}async function ja(a){X.value=!0;const{response:e}=await rt({uid:D.value,...a,...F.value});e.data.status===200&&(B(),u.success(s("common.addSuccess")),Z.value=!1),X.value=!1}const $a=t([{type:"Slot",valueName:"bank",slotName:"bank"}]),oa=t([]),Ga=[{title:"ID",key:"id",align:"center"},{title:"开户银行",key:"bank_name",align:"center"},{title:"银行卡号",key:"bank_account",align:"center"},{title:"开户城市",key:"bank_address",align:"center"},{title:"分行名称",key:"bank_branch",align:"center"},{title:"创建时间",key:"create_time",align:"center"},{title:"操作",key:"action",align:"center",width:200,fixed:"right",render:a=>{let e;return n(ce,{justify:"center"},{default:()=>[n(L,{type:"success",size:"small",onClick:Qa.bind(null,a.id)},z(e=s("common.modify"))?e:{default:()=>[e]}),n(_a,{"onPositive-click":Xa.bind(null,a.id)},{default:()=>[s("common.confirmDelete")],trigger:()=>{let o;return n(L,{type:"error",size:"small"},z(o=s("common.delete"))?o:{default:()=>[o]})}})]})}}],_e=t(!1),na=t(0),sa=t([{type:"Input",valueName:"bank_name",label:"银行名称"},{type:"Input",valueName:"bank_branch",label:"支行"},{type:"Input",valueName:"bank_address",label:"城市"},{type:"Input Number",valueName:"bank_account",label:"银行账号"}]),ia=t([]),Le=t([]),ua={bank_name:[{required:!0,message:"请输入银行名称",trigger:["blur"]}],bank_branch:[{required:!0,message:"请输入支行名称",trigger:["blur"]}],bank_address:[{required:!0,message:"请输入城市名称",trigger:["blur"]}],bank_account:[{type:"number",required:!0,message:"请输入银行账号",trigger:["blur"]}]};function Ha(){Y.value=!0}async function Ka(a){J.value=!0;const{response:e}=await ha({uid:S.value,bank_name:a.bank_name,bank_branch:a.bank_branch,bank_address:a.bank_address,bank_account:a.bank_account});e.data.status===200&&(O(),u.success(s("common.addSuccess")),Y.value=!1),J.value=!1}async function Qa(a){na.value=a;const{data:e}=await ct(a);Le.value.forEach(o=>{o.valueName==="bank_account"&&(e[o.valueName]=Number(e[o.valueName])),o.defaultValue=e[o.valueName]}),ee.value=!0}async function Za(a){C.value=!0;const{response:e}=await ha({id:na.value,uid:S.value,bank_name:a.bank_name,bank_branch:a.bank_branch,bank_address:a.bank_address,bank_account:a.bank_account});e.data.status===200&&(O(),u.success(s("common.modifySuccess")),ee.value=!1),C.value=!1}async function Xa(a){C.value=!0;const{response:e}=await mt(a);e.data.status===200&&(O(),u.success(s("common.deleteSuccess"))),C.value=!1}const Ya=t([{type:"Slot",valueName:"wallet",slotName:"wallet"}]),da=t([]),Ja=[{title:"ID",key:"id",align:"center"},{title:"钱包",key:"payment",align:"center",render:a=>a.payment?a.payment.name:a.type===2?"数字货币":"/"},{title:"别名",key:"payment_as_name",align:"center"},{title:"钱包地址",key:"address",align:"center"},{title:"收款码",key:"collection_code",align:"center",render:a=>n(st,{width:"100",src:a.collection_code},null)},{title:"创建时间",key:"create_time",align:"center"},{title:"操作",key:"action",align:"center",width:200,fixed:"right",render:a=>{let e;return n(ce,{justify:"center"},{default:()=>[n(L,{type:"success",size:"small",onClick:ol.bind(null,a.id)},z(e=s("common.modify"))?e:{default:()=>[e]}),n(_a,{"onPositive-click":Cl.bind(null,a.id)},{default:()=>[s("common.confirmDelete")],trigger:()=>{let o;return n(L,{type:"error",size:"small"},z(o=s("common.delete"))?o:{default:()=>[o]})}})]})}}],el=t(!1),Ne=t(0),ie=t([]),ue=t([]),de=t({}),P=t({}),ra=t([{type:"Select",valueName:"payment_id",label:"钱包",selectLabelField:"name",selectValueField:"id"},{type:"Input",valueName:"payment_as_name",label:"别名"},{type:"Input",valueName:"address",label:"钱包地址"},{type:"Slot",valueName:"collection_code",label:"收款码",slotName:"collection_code"}]),Ce=t([]),re=t([]),ca={payment_id:[{type:"number",required:!0,message:"请选择钱包",trigger:["blur"]}],payment_as_name:[{required:!0,message:"请输入别名",trigger:["blur"]}],address:[{required:!0,message:"请输入钱包地址",trigger:["blur"]}],collection_code:[{type:"number",required:!0,message:"请上传收款码",trigger:["blur"],validator:()=>Ne.value?ue.value.length?!0:new Error("请上传收款码"):ie.value.length?!0:new Error("请上传收款码")}]};async function al(a){if(Object.keys(de.value).length!==1){u.error("请上传收款码");return}ae.value=!0;const{response:e}=await ka({uid:S.value,...a,collection_code:de.value.collection_code});e.data.status===200&&(R(),u.success(s("common.addSuccess")),we.value=!1),ae.value=!1}async function ll({file:a,onFinish:e,onError:o,onProgress:_}){const p=await Pe({file:a,onFinish:e,onError:o,onProgress:_});p&&(de.value.collection_code=p)}function xe(a){a==="add"?Reflect.deleteProperty(de.value,"collection_code"):a==="modify"&&Reflect.deleteProperty(P.value,"collection_code")}function tl(){ie.value=[],xe("add")}async function ol(a){Ne.value=a;const{data:e}=await pt(a);re.value.forEach(o=>{o.defaultValue=e[o.valueName]}),ue.value=[{id:"collection_code",name:"收款码",url:e.collection_code,status:"finished"}],P.value.collection_code=e.collection_code,le.value=!0}async function nl({file:a,onFinish:e,onError:o,onProgress:_}){const p=await Pe({file:a,onFinish:e,onError:o,onProgress:_});p&&(P.value.collection_code=p)}async function sl(a){if(Object.keys(P.value).length!==1){u.error("请上传收款码");return}te.value=!0;const{response:e}=await ka({id:Ne.value,uid:S.value,...a,collection_code:P.value.collection_code});e.data.status===200&&(R(),u.success(s("common.modifySuccess")),le.value=!1),te.value=!1}async function m(){c.value=!0;const{data:a}=await Sa({page:y.page,limit:y.pageSize,...Ae.value});pe.value=a.list,y.itemCount=a.count,c.value=!1}function il(a){y.page=a,m()}function ul(a){y.page=1,y.pageSize=a,m()}async function dl(a){c.value=!0;const{response:e}=await ft({id:a});e.data.status===200?(m(),u.success("强制下线成功")):c.value=!1}async function rl(a){c.value=!0;const{response:e}=await vt(a);e.data.status===200?(m(),u.success(s("common.deleteSuccess"))):c.value=!1}async function cl(a){k.value=a;const{data:e}=await gt(a);g.value.forEach(o=>{typeof e[o.valueName]=="string"&&xa.includes(o.valueName)&&(e[o.valueName]=Number(e[o.valueName])),Fa.includes(o.valueName)&&(e[o.valueName]||(e[o.valueName]=null)),o.defaultValue=e[o.valueName]}),j.value=!0}function ml(a){k.value=a,G.value=!0}function pl(a){k.value=a,K.value=!0}async function fl(a){D.value=a,b.page=1,await Fe(),ve.value=!0}async function Fe(){Se.value=!0;const{data:a}=await yt({page:b.page,limit:b.pageSize,uid:D.value});Je.value=a.list,b.itemCount=a.count,Se.value=!1}function vl(a){b.page=a,Fe()}function gl(a){b.page=1,b.pageSize=a,Fe()}async function yl(a){D.value=a,f.page=1,await B(),ge.value=!0}async function B(){Me.value=!0;const{data:a}=await bt({page:f.page,limit:f.pageSize,uid:D.value,...ea.value});la.value=a.list,f.itemCount=a.count,Me.value=!1}function bl(a){ea.value=a,f.page=1,B()}function wl(a){f.page=a,B()}function hl(a){f.page=1,f.pageSize=a,B()}async function kl(a){S.value=a,w.page=1,await O(),ye.value=!0}async function O(){_e.value=!0;const{data:a}=await wt({page:w.page,limit:w.pageSize,uid:S.value});oa.value=a.list,w.itemCount=a.count,_e.value=!1}function Sl(a){w.page=a,O()}function Ml(a){w.page=1,w.pageSize=a,O()}async function _l(a){S.value=a,h.page=1,await R(),be.value=!0}async function R(){x.value=!0;const{data:a}=await ht({page:h.page,limit:h.pageSize,uid:S.value});da.value=a.list,h.itemCount=a.count,x.value=!1}function Ll(a){h.page=a,R()}function Nl(a){h.page=1,h.pageSize=a,R()}async function Cl(a){x.value=!0;const{response:e}=await kt(a);e.data.status===200&&(R(),u.success(s("common.deleteSuccess"))),x.value=!1}function xl(a){La(`/user-manage/team-map?pid=${a}`)}async function Fl(){const{data:a}=await Sa();me({tableColumns:W,tableData:Oe(a.list),fileName:De})}function Oe(a){const e=A(a);return e.forEach(o=>{Reflect.has(o,"account")&&(o.account=`
      账号:${o.account?o.account:"/"};
      姓名:${o.real_name?o.real_name:"/"};`),Reflect.has(o,"sex")&&(o.sex=fa(o.sex)),Reflect.has(o,"is_trial")&&(o.is_trial=o.is_trial?"是":"否")}),e}const N=t([]),ma=t([]);function Ol(a){const e={...a};a.svip_id&&(e.svip_id=a.svip_id.join(",")),a.partner_id&&(e.partner_id=a.partner_id.join(",")),Ae.value=e,y.page=1,m()}function Rl(a,e){N.value=a,ma.value=e}function Ul(){E.value=!0}async function Dl(){c.value=!0;const{response:a}=await St({id:N.value.join(",")});a.data.status===200?(m(),N.value=[],u.success(s("common.deleteSuccess"))):c.value=!1}async function Pl(a){q.value=!0;const e={},{response:o}=await Mt({...a,...e});o.data.status===200&&(m(),u.success(s("common.addSuccess")),E.value=!1),q.value=!1}function Bl(){se.value=""}async function Al(a){$.value=!0;const e={},o={...a};Reflect.deleteProperty(o,"account");const{response:_}=await Ma(k.value,{...o,...e});_.data.status===200&&(m(),u.success(s("common.modifySuccess")),j.value=!1),$.value=!1}function Il(){se.value="",k.value=0}async function pa(a,e){e==="pwd"?H.value=!0:Q.value=!0;const{response:o}=await Ma(k.value,a);o.data.status===200&&(m(),u.success(s("common.modifySuccess")),e==="pwd"?G.value=!1:K.value=!1),e==="pwd"?H.value=!1:Q.value=!1}function fa(a){switch(a){case 0:return"男";case 1:return"女";case 2:return"其他";default:return"/"}}async function va(){k.value?g.value[7].remoteSelectLoading=!0:M.value[9].remoteSelectLoading=!0;const a={name:se.value},{data:e}=await _t({...a});Oa.value=e,k.value?g.value[7].remoteSelectLoading=!1:M.value[9].remoteSelectLoading=!1,M.value[9].defaultOption=e,g.value[7].defaultOption=e}async function Tl(){const{data:a}=await xt();a&&(he.value=a.map(e=>({label:e.name,value:e.value})),M.value[10].defaultOption=he.value,g.value[8].defaultOption=he.value)}async function zl(){const{data:a}=await Lt();let e=[];a&&(e=a.map(o=>({label:o.name,value:o.value})),M.value[8].defaultOption=e,g.value[6].defaultOption=e,fe.value[6].defaultOption=e)}async function Vl(){const{data:a}=await Nt();oe.value=a,M.value[7].defaultOption=oe.value,g.value[5].defaultOption=oe.value,fe.value[5].defaultOption=oe.value}async function Wl(){const{data:a}=await Ot();ke.value=a.list,Ce.value[0].defaultOption=ke.value,re.value[0].defaultOption=ke.value}async function El(){const{data:a}=await Ft();a.forEach(e=>{e.money_type==="USD"&&ne.value.push({id:e.id,name_zh:`${e.name_zh}(${e.name})`,money_type:e.money_type})}),ta.value[1].defaultOption=ne.value,aa.value[0].defaultOption=ne.value}async function ql(){const{data:a}=await Ct();M.value[12].defaultOption=a,g.value[10].defaultOption=a}function ga(a){a.keyName==="pid"&&(se.value=a.value,va())}function jl(a){switch(a){case 1:return"入款";case 2:return"出款";case 3:return"冻结";case 4:return"结算";case 5:return"佣金";default:return"/"}}return m(),va(),Tl(),zl(),Vl(),Wl(),El(),ql(),ia.value=A(sa.value),Le.value=A(sa.value),Ce.value=A(ra.value),re.value=A(ra.value),(a,e)=>{const o=Zl,_=Ql,p=Bt,$l=it,r=Kl,ya=ce,Gl=ut,ba=Ut,Hl=at("resize");return lt(),tt("div",null,[n($l,{title:"用户列表"},{"header-extra":d(()=>[n(o,{"export-all-loading":i(v),"onUpdate:exportAllLoading":e[0]||(e[0]=l=>Re(v)?v.value=l:null),"refresh-button-loading":c.value,"onUpdate:refreshButtonLoading":e[1]||(e[1]=l=>c.value=l),"export-selected-disabled":N.value.length,"onUpdate:exportSelectedDisabled":e[2]||(e[2]=l=>N.value.length=l),"batch-delete-disabled":N.value.length,"onUpdate:batchDeleteDisabled":e[3]||(e[3]=l=>N.value.length=l),"export-filter-loading":i(v),"onUpdate:exportFilterLoading":e[4]||(e[4]=l=>Re(v)?v.value=l:null),"export-selected-loading":i(v),"onUpdate:exportSelectedLoading":e[5]||(e[5]=l=>Re(v)?v.value=l:null),onExportAll:Fl,onExportFilter:e[6]||(e[6]=l=>i(me)({tableColumns:W,tableData:Oe(pe.value),fileName:De})),onExportSelected:e[7]||(e[7]=l=>i(me)({tableColumns:W,tableData:Oe(ma.value),fileName:De})),onAdd:Ul,onBatchDelete:Dl,onRefresh:m},null,8,["export-all-loading","refresh-button-loading","export-selected-disabled","batch-delete-disabled","export-filter-loading","export-selected-loading"])]),default:d(()=>[n(_,{"search-config":fe.value,onOnSearch:Ol},null,8,["search-config"]),ot(n(p,{remote:"",columns:W,data:pe.value,loading:c.value,bordered:!1,style:{height:"560px"},"flex-height":"","scroll-x":2200,pagination:i(y),"row-key":l=>l.uid,"render-cell":i(U),"onUpdate:checkedRowKeys":Rl,"onUpdate:page":il,"onUpdate:pageSize":ul},null,8,["data","loading","pagination","row-key","render-cell"]),[[Hl]])]),_:1}),n(r,{"show-form-modal":E.value,"onUpdate:showFormModal":e[8]||(e[8]=l=>E.value=l),"is-async-shut-down":Ie.value,"onUpdate:isAsyncShutDown":e[9]||(e[9]=l=>Ie.value=l),"is-show-modal-loading":q.value,"onUpdate:isShowModalLoading":e[10]||(e[10]=l=>q.value=l),"modal-title":i(s)("common.add"),"modal-form-config":M.value,"form-rules":Da,onOnSubmit:Pl,onOnClose:Bl,onOnRemoteSelectSearch:ga},null,8,["show-form-modal","is-async-shut-down","is-show-modal-loading","modal-title","modal-form-config"]),n(r,{"show-form-modal":j.value,"onUpdate:showFormModal":e[11]||(e[11]=l=>j.value=l),"is-async-shut-down":Te.value,"onUpdate:isAsyncShutDown":e[12]||(e[12]=l=>Te.value=l),"is-show-modal-loading":$.value,"onUpdate:isShowModalLoading":e[13]||(e[13]=l=>$.value=l),"modal-title":i(s)("common.modify"),"modal-form-config":g.value,"form-rules":Pa,onOnSubmit:Al,onOnClose:Il,onOnRemoteSelectSearch:ga},null,8,["show-form-modal","is-async-shut-down","is-show-modal-loading","modal-title","modal-form-config"]),n(r,{"show-form-modal":G.value,"onUpdate:showFormModal":e[14]||(e[14]=l=>G.value=l),"is-async-shut-down":ze.value,"onUpdate:isAsyncShutDown":e[15]||(e[15]=l=>ze.value=l),"is-show-modal-loading":H.value,"onUpdate:isShowModalLoading":e[16]||(e[16]=l=>H.value=l),"modal-title":"修改密码","modal-form-config":Ra.value,"form-rules":Ba,onOnSubmit:e[17]||(e[17]=l=>pa(l,"pwd"))},null,8,["show-form-modal","is-async-shut-down","is-show-modal-loading","modal-form-config"]),n(r,{"show-form-modal":K.value,"onUpdate:showFormModal":e[18]||(e[18]=l=>K.value=l),"is-async-shut-down":Ve.value,"onUpdate:isAsyncShutDown":e[19]||(e[19]=l=>Ve.value=l),"is-show-modal-loading":Q.value,"onUpdate:isShowModalLoading":e[20]||(e[20]=l=>Q.value=l),"modal-title":"修改支付密码","modal-form-config":Ua.value,"form-rules":Aa,onOnSubmit:e[21]||(e[21]=l=>pa(l,"payPwd"))},null,8,["show-form-modal","is-async-shut-down","is-show-modal-loading","modal-form-config"]),n(r,{"show-form-modal":ve.value,"onUpdate:showFormModal":e[22]||(e[22]=l=>ve.value=l),"is-async-shut-down":We.value,"onUpdate:isAsyncShutDown":e[23]||(e[23]=l=>We.value=l),"is-show-modal-loading":Ee.value,"onUpdate:isShowModalLoading":e[24]||(e[24]=l=>Ee.value=l),"modal-title":"登录记录","modal-form-config":Ia.value,"bottom-visible":!1},{loginRecord:d(()=>[n(p,{remote:"",columns:Ta,data:Je.value,loading:Se.value,bordered:!1,"max-height":600,"scroll-x":600,pagination:i(b),"row-key":l=>l.id,"render-cell":i(U),"onUpdate:page":vl,"onUpdate:pageSize":gl},null,8,["data","loading","pagination","row-key","render-cell"])]),_:1},8,["show-form-modal","is-async-shut-down","is-show-modal-loading","modal-form-config"]),n(r,{"show-form-modal":ge.value,"onUpdate:showFormModal":e[25]||(e[25]=l=>ge.value=l),"is-async-shut-down":qe.value,"onUpdate:isAsyncShutDown":e[26]||(e[26]=l=>qe.value=l),"is-show-modal-loading":je.value,"onUpdate:isShowModalLoading":e[27]||(e[27]=l=>je.value=l),"modal-title":"余额记录","modal-form-config":za.value,"bottom-visible":!1,"width-class":"w-1100px"},{balanceRecord:d(()=>[n(ya,{justify:"end"},{default:d(()=>[n(i(L),{type:"success",size:"small",onClick:Ea},{default:d(()=>[I(wa(i(s)("common.add")),1)]),_:1}),n(_,{"search-config":aa.value,onOnSearch:bl},null,8,["search-config"])]),_:1}),e[53]||(e[53]=Ue("div",{class:"h-10px"},null,-1)),n(p,{remote:"",columns:Va,data:la.value,loading:Me.value,bordered:!1,"max-height":500,"scroll-x":1500,pagination:i(f),"row-key":l=>l.id,"render-cell":i(U),"onUpdate:page":wl,"onUpdate:pageSize":hl},null,8,["data","loading","pagination","row-key","render-cell"])]),_:1},8,["show-form-modal","is-async-shut-down","is-show-modal-loading","modal-form-config"]),n(r,{"show-form-modal":Z.value,"onUpdate:showFormModal":e[28]||(e[28]=l=>Z.value=l),"is-async-shut-down":$e.value,"onUpdate:isAsyncShutDown":e[29]||(e[29]=l=>$e.value=l),"is-show-modal-loading":X.value,"onUpdate:isShowModalLoading":e[30]||(e[30]=l=>X.value=l),"modal-title":"新增余额","modal-form-config":ta.value,"form-rules":Wa,onOnSubmit:ja},{moneyType:d(()=>[n(Gl,{"label-field":"name_zh","value-field":"id",filterable:"",clearable:"",options:ne.value,"onUpdate:value":qa},null,8,["options"])]),_:1},8,["show-form-modal","is-async-shut-down","is-show-modal-loading","modal-form-config"]),n(r,{"show-form-modal":ye.value,"onUpdate:showFormModal":e[31]||(e[31]=l=>ye.value=l),"is-async-shut-down":Ge.value,"onUpdate:isAsyncShutDown":e[32]||(e[32]=l=>Ge.value=l),"is-show-modal-loading":He.value,"onUpdate:isShowModalLoading":e[33]||(e[33]=l=>He.value=l),"modal-title":"银行卡","modal-form-config":$a.value,"bottom-visible":!1,"width-class":"w-1100px"},{bank:d(()=>[n(ya,{justify:"end"},{default:d(()=>[n(i(L),{type:"success",size:"small",onClick:Ha},{default:d(()=>[I(wa(i(s)("common.add")),1)]),_:1})]),_:1}),e[54]||(e[54]=Ue("div",{class:"h-10px"},null,-1)),n(p,{remote:"",columns:Ga,data:oa.value,loading:_e.value,bordered:!1,"max-height":600,"scroll-x":1e3,pagination:i(w),"row-key":l=>l.id,"render-cell":i(U),"onUpdate:page":Sl,"onUpdate:pageSize":Ml},null,8,["data","loading","pagination","row-key","render-cell"])]),_:1},8,["show-form-modal","is-async-shut-down","is-show-modal-loading","modal-form-config"]),n(r,{"show-form-modal":Y.value,"onUpdate:showFormModal":e[34]||(e[34]=l=>Y.value=l),"is-async-shut-down":Ke.value,"onUpdate:isAsyncShutDown":e[35]||(e[35]=l=>Ke.value=l),"is-show-modal-loading":J.value,"onUpdate:isShowModalLoading":e[36]||(e[36]=l=>J.value=l),"modal-title":"新增银行卡","modal-form-config":ia.value,"form-rules":ua,onOnSubmit:Ka},null,8,["show-form-modal","is-async-shut-down","is-show-modal-loading","modal-form-config"]),n(r,{"show-form-modal":ee.value,"onUpdate:showFormModal":e[37]||(e[37]=l=>ee.value=l),"is-async-shut-down":Qe.value,"onUpdate:isAsyncShutDown":e[38]||(e[38]=l=>Qe.value=l),"is-show-modal-loading":C.value,"onUpdate:isShowModalLoading":e[39]||(e[39]=l=>C.value=l),"modal-title":"编辑银行卡","modal-form-config":Le.value,"form-rules":ua,onOnSubmit:Za},null,8,["show-form-modal","is-async-shut-down","is-show-modal-loading","modal-form-config"]),n(r,{"show-form-modal":be.value,"onUpdate:showFormModal":e[40]||(e[40]=l=>be.value=l),"is-async-shut-down":Ze.value,"onUpdate:isAsyncShutDown":e[41]||(e[41]=l=>Ze.value=l),"is-show-modal-loading":x.value,"onUpdate:isShowModalLoading":e[42]||(e[42]=l=>x.value=l),"modal-title":"钱包","modal-form-config":Ya.value,"bottom-visible":!1,"width-class":"w-1100px"},{wallet:d(()=>[e[55]||(e[55]=Ue("div",{class:"h-10px"},null,-1)),n(p,{remote:"",columns:Ja,data:da.value,loading:el.value,bordered:!1,"max-height":500,"scroll-x":1e3,pagination:i(h),"row-key":l=>l.id,"render-cell":i(U),"onUpdate:page":Ll,"onUpdate:pageSize":Nl},null,8,["data","loading","pagination","row-key","render-cell"])]),_:1},8,["show-form-modal","is-async-shut-down","is-show-modal-loading","modal-form-config"]),n(r,{"show-form-modal":we.value,"onUpdate:showFormModal":e[45]||(e[45]=l=>we.value=l),"is-async-shut-down":Xe.value,"onUpdate:isAsyncShutDown":e[46]||(e[46]=l=>Xe.value=l),"is-show-modal-loading":ae.value,"onUpdate:isShowModalLoading":e[47]||(e[47]=l=>ae.value=l),"modal-title":"新增钱包","modal-form-config":Ce.value,"form-rules":ca,onOnSubmit:al,onOnClose:tl},{collection_code:d(()=>[n(ba,{"file-list":ie.value,"onUpdate:fileList":e[43]||(e[43]=l=>ie.value=l),"list-type":"image-card",max:1,accept:"image/*","custom-request":ll,onRemove:e[44]||(e[44]=l=>xe("add"))},{default:d(()=>e[56]||(e[56]=[I(" 点击上传 ")])),_:1},8,["file-list"])]),_:1},8,["show-form-modal","is-async-shut-down","is-show-modal-loading","modal-form-config"]),n(r,{"show-form-modal":le.value,"onUpdate:showFormModal":e[50]||(e[50]=l=>le.value=l),"is-async-shut-down":Ye.value,"onUpdate:isAsyncShutDown":e[51]||(e[51]=l=>Ye.value=l),"is-show-modal-loading":te.value,"onUpdate:isShowModalLoading":e[52]||(e[52]=l=>te.value=l),"modal-title":"编辑钱包","modal-form-config":re.value,"form-rules":ca,onOnSubmit:sl},{collection_code:d(()=>[n(ba,{"file-list":ue.value,"onUpdate:fileList":e[48]||(e[48]=l=>ue.value=l),"list-type":"image-card",max:1,accept:"image/*","custom-request":nl,onRemove:e[49]||(e[49]=l=>xe("modify"))},{default:d(()=>e[57]||(e[57]=[I(" 点击上传 ")])),_:1},8,["file-list"])]),_:1},8,["show-form-modal","is-async-shut-down","is-show-modal-loading","modal-form-config"])])}}});export{oo as default};
