import{a as we,_ as ke,b as Ce}from"./multi-language-form.vue_vue_type_script_setup_true_lang-CddQKb4h.js";import{al as xe,am as U,aq as X,d as Z,ap as Fe,bf as Me,a as q,aB as Re,aC as Be,bd as Ue,Q as V,bg as H,bh as $,r as h,o as n,b as L,f as v,w as t,S as T,ac as I,c as u,g as b,t as N,a4 as S,bi as Ve,bj as $e,B as Le,bk as Te,bl as De,e as ze,h as Oe,bm as Ge,bn as Q,x as Ie,bo as Pe,a5 as Ee,X as Ae,y as je,bp as Ke,bq as qe}from"./index-DrEzliHY.js";import{_ as He}from"./DatePicker-B2ToGdru.js";import{_ as Qe,a as We}from"./RadioGroup-DfynhpqT.js";import{_ as Xe}from"./Grid-ppKVTCkg.js";import{a as Ze}from"./FormItem-D43XudUj.js";import{_ as Je}from"./Flex-DkQB4X0g.js";import{_ as Ye}from"./Spin-4EGh_M6p.js";import{_ as el}from"./Space-B3V6_u3T.js";const ll=xe("text",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[U("strong",`
 font-weight: var(--n-font-weight-strong);
 `),U("italic",{fontStyle:"italic"}),U("underline",{textDecoration:"underline"}),U("code",`
 line-height: 1.4;
 display: inline-block;
 font-family: var(--n-font-famliy-mono);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 box-sizing: border-box;
 padding: .05em .35em 0 .35em;
 border-radius: var(--n-code-border-radius);
 font-size: .9em;
 color: var(--n-code-text-color);
 background-color: var(--n-code-color);
 border: var(--n-code-border);
 `)]),al=Object.assign(Object.assign({},X.props),{code:Boolean,type:{type:String,default:"default"},delete:Boolean,strong:Boolean,italic:Boolean,underline:Boolean,depth:[String,Number],tag:String,as:{type:String,validator:()=>!0,default:void 0}}),ol=Z({name:"Text",props:al,setup(s){const{mergedClsPrefixRef:g,inlineThemeDisabled:m}=Fe(s),i=X("Typography","-text",ll,Me,s,g),_=q(()=>{const{depth:C,type:w}=s,D=w==="default"?C===void 0?"textColor":`textColor${C}Depth`:Re("textColor",w),{common:{fontWeightStrong:a,fontFamilyMono:p,cubicBezierEaseInOut:x},self:{codeTextColor:y,codeBorderRadius:F,codeColor:M,codeBorder:R,[D]:B}}=i.value;return{"--n-bezier":x,"--n-text-color":B,"--n-font-weight-strong":a,"--n-font-famliy-mono":p,"--n-code-border-radius":F,"--n-code-text-color":y,"--n-code-color":M,"--n-code-border":R}}),c=m?Be("text",q(()=>`${s.type[0]}${s.depth||""}`),_,s):void 0;return{mergedClsPrefix:g,compitableTag:Ue(s,["as","tag"]),cssVars:m?void 0:_,themeClass:c==null?void 0:c.themeClass,onRender:c==null?void 0:c.onRender}},render(){var s,g,m;const{mergedClsPrefix:i}=this;(s=this.onRender)===null||s===void 0||s.call(this);const _=[`${i}-text`,this.themeClass,{[`${i}-text--code`]:this.code,[`${i}-text--delete`]:this.delete,[`${i}-text--strong`]:this.strong,[`${i}-text--italic`]:this.italic,[`${i}-text--underline`]:this.underline}],c=(m=(g=this.$slots).default)===null||m===void 0?void 0:m.call(g);return this.code?V("code",{class:_,style:this.cssVars},this.delete?V("del",null,c):c):this.delete?V("del",{class:_,style:this.cssVars},c):V(this.compitableTag||"span",{class:_,style:this.cssVars},c)}}),nl={class:"w-100%"},W="zh-Hans",fl=Z({__name:"modal-form",props:H({modalTitle:{default:""},modalFormConfig:{},formRules:{default:void 0},gridGiSpan:{default:24},bottomVisible:{type:Boolean,default:!0},widthClass:{default:"w-700px"}},{showFormModal:{type:Boolean,default:!1},showFormModalModifiers:{},isAsyncShutDown:{type:Boolean,default:!1},isAsyncShutDownModifiers:{},isShowModalLoading:{type:Boolean,default:!1},isShowModalLoadingModifiers:{},isShowModalFormI18n:{type:Boolean,default:!1},isShowModalFormI18nModifiers:{}}),emits:H(["onSubmit","onClose","onRemoteSelectSearch"],["update:showFormModal","update:isAsyncShutDown","update:isShowModalLoading","update:isShowModalFormI18n"]),setup(s,{expose:g,emit:m}){const i=$(s,"showFormModal"),_=$(s,"isAsyncShutDown"),c=$(s,"isShowModalLoading"),C=$(s,"isShowModalFormI18n"),w=h(null),D=h("medium"),a=h({}),p=h({});let x;const y={};let F="";const M=h(""),R=h(""),B=h(""),z=h(!1),J=l=>l>=0,P=s,O=m,E=()=>{i.value=!1},Y=()=>{P.modalFormConfig.forEach(l=>{Reflect.getOwnPropertyDescriptor(l,"defaultValue")&&(a.value[l.valueName]=l.defaultValue),Reflect.getOwnPropertyDescriptor(l,"i18n")&&(Reflect.getOwnPropertyDescriptor(l,"defaultValue")||(p.value[l.valueName]=null),Reflect.getOwnPropertyDescriptor(l,"i18nValue")&&(l.i18nValue?p.value[l.valueName]=l.i18nValue:p.value[l.valueName]=null))})},ee=()=>{Object.keys(a.value).forEach(l=>a.value[l]=null),O("onClose")},le=l=>{var r;l.preventDefault(),(r=w.value)==null||r.validate(k=>{if(!k){const f={};if(P.modalFormConfig.forEach(d=>{a.value[d.valueName]!==null&&a.value[d.valueName]!==void 0&&(d.i18n?p.value[d.valueName]!==null&&p.value[d.valueName]!==void 0?(p.value[d.valueName][W]=a.value[d.valueName],f[d.valueName]=p.value[d.valueName]):f[d.valueName]={[W]:a.value[d.valueName]}:f[d.valueName]=a.value[d.valueName])}),O("onSubmit",f),_.value)return;E()}})};function ae(l,r){y[r]={value:l,keyName:r},F=r,x()}function oe(l){y[l]&&y[l].value!==""&&(y[l].value="",A())}function A(){O("onRemoteSelectSearch",y[F])}function ne(){x=$e(A,500)}function j(l,r,k){M.value=l,R.value=r,B.value=k,z.value=!0}function te(l){p.value[`${l.key}`]=l.value}return g({formModel:a}),ne(),(l,r)=>{const k=Ie,f=Le,d=Pe,G=Ee,ue=ke,se=He,re=Ae,de=je,K=el,ce=Ke,ie=Qe,pe=We,ve=qe,fe=ol,me=Ce,_e=Xe,he=Ze,be=Je,ge=Te,ye=Ye,Ne=De,Se=we;return n(),L(T,null,[v(Ne,{show:i.value,"onUpdate:show":r[0]||(r[0]=e=>i.value=e),class:Ve(l.widthClass),title:l.modalTitle,preset:"card",onAfterEnter:Y,onAfterLeave:ee},{default:t(()=>[v(ye,{show:c.value},{default:t(()=>[v(ge,{class:"max-h-600px"},{default:t(()=>[v(he,{ref_key:"formRef",ref:w,model:a.value,rules:l.formRules,"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging",size:D.value},{default:t(()=>[v(_e,{cols:24,"x-gap":24},{default:t(()=>[(n(!0),L(T,null,I(l.modalFormConfig,e=>(n(),u(me,{key:e.valueName,span:e.gridGiSpan?e.gridGiSpan:l.gridGiSpan,label:e.label,"show-label":e.showLabel!==!1,path:e.valueName},{default:t(()=>[ze("div",nl,[e.type==="Input"?(n(),u(d,{key:0},{default:t(()=>[v(k,{value:a.value[e.valueName],"onUpdate:value":o=>a.value[e.valueName]=o,"input-props":e.inputProps,"allow-input":Oe(Ge),type:e.inputType,"default-value":e.defaultValue,placeholder:e.placeholder,clearable:e.clearable!==!1,disabled:e.disabled},null,8,["value","onUpdate:value","input-props","allow-input","type","default-value","placeholder","clearable","disabled"]),e.i18n===!0?(n(),u(f,{key:0,type:"primary",ghost:"",onClick:o=>j(e.type,e.valueName,a.value[e.valueName])},{default:t(()=>r[2]||(r[2]=[b(" 多语言 ")])),_:2},1032,["onClick"])):S("",!0)]),_:2},1024)):e.type==="Select"||e.type==="Multiple Select"?(n(),u(G,{key:1,value:a.value[e.valueName],"onUpdate:value":o=>a.value[e.valueName]=o,"render-label":e.selectRenderLabel,multiple:e.type==="Multiple Select","label-field":e.selectLabelField?e.selectLabelField:"label","value-field":e.selectValueField?e.selectValueField:"value",filterable:e.selectFilter===!0,clearable:e.clearable!==!1,placeholder:e.placeholder,options:e.defaultOption,disabled:e.disabled},null,8,["value","onUpdate:value","render-label","multiple","label-field","value-field","filterable","clearable","placeholder","options","disabled"])):e.type==="Remote Select"?(n(),u(G,{key:2,value:a.value[e.valueName],"onUpdate:value":o=>a.value[e.valueName]=o,remote:"",clearable:"",filterable:"","label-field":e.selectLabelField?e.selectLabelField:"label","value-field":e.selectValueField?e.selectValueField:"value",options:e.defaultOption,loading:e.remoteSelectLoading,onSearch:o=>ae(o,e.valueName),onBlur:o=>oe(e.valueName)},null,8,["value","onUpdate:value","label-field","value-field","options","loading","onSearch","onBlur"])):e.type==="Rich Text"?(n(),u(ue,{key:3,"editor-content":a.value[e.valueName],"onUpdate:editorContent":o=>a.value[e.valueName]=o},null,8,["editor-content","onUpdate:editorContent"])):e.type==="Datetime"?(n(),u(se,{key:4,value:a.value[e.valueName],"onUpdate:value":o=>a.value[e.valueName]=o,type:e.datetimeType,clearable:"",disabled:e.disabled},null,8,["value","onUpdate:value","type","disabled"])):e.type==="Tag Select"?(n(),u(d,{key:5},{default:t(()=>[v(G,{value:a.value[e.valueName],"onUpdate:value":o=>a.value[e.valueName]=o,filterable:"",multiple:"",tag:"",placeholder:e.placeholder,"show-arrow":!1,show:!1,disabled:e.disabled},null,8,["value","onUpdate:value","placeholder","disabled"]),e.i18n===!0?(n(),u(f,{key:0,type:"primary",ghost:"",onClick:o=>j(e.type,e.valueName,a.value[e.valueName])},{default:t(()=>r[3]||(r[3]=[b(" 多语言 ")])),_:2},1032,["onClick"])):S("",!0)]),_:2},1024)):e.type==="Switch"?(n(),u(re,{key:6,value:a.value[e.valueName],"onUpdate:value":o=>a.value[e.valueName]=o,"checked-value":e.switchChecked===""?!0:e.switchChecked,"unchecked-value":e.switchUnchecked===""?!1:e.switchUnchecked,disabled:e.disabled},{checked:t(()=>[b(N(e.switchCheckedText),1)]),unchecked:t(()=>[b(N(e.switchUncheckedText),1)]),_:2},1032,["value","onUpdate:value","checked-value","unchecked-value","disabled"])):e.type==="Checkbox"?(n(),u(ce,{key:7,value:a.value[e.valueName],"onUpdate:value":o=>a.value[e.valueName]=o,"default-value":e.defaultValue},{default:t(()=>[v(K,{"item-style":"display: flex;"},{default:t(()=>[(n(!0),L(T,null,I(e.checkboxGropOption,o=>(n(),u(de,{key:o.key,value:o.key,label:o.label},null,8,["value","label"]))),128))]),_:2},1024)]),_:2},1032,["value","onUpdate:value","default-value"])):e.type==="Radio"?(n(),u(pe,{key:8,value:a.value[e.valueName],"onUpdate:value":o=>a.value[e.valueName]=o,name:"radiogroup"},{default:t(()=>[v(K,null,{default:t(()=>[(n(!0),L(T,null,I(e.radioGroupOption,o=>(n(),u(ie,{key:o.label,value:o.value,disabled:o.disabled},{default:t(()=>[b(N(o.label),1)]),_:2},1032,["value","disabled"]))),128))]),_:2},1024)]),_:2},1032,["value","onUpdate:value"])):e.type==="Input Number"?(n(),u(ve,{key:9,value:a.value[e.valueName],"onUpdate:value":o=>a.value[e.valueName]=o,validator:e.nonnegative?J:void 0,min:e.inpitNumberMin,max:e.inpitNumberMax,disabled:e.disabled,clearable:e.clearable!==!1},null,8,["value","onUpdate:value","validator","min","max","disabled","clearable"])):e.type==="Slot"?Q(l.$slots,e.slotName,{key:10}):S("",!0),Q(l.$slots,"default"),e.tip?(n(),u(fe,{key:11,type:"warning"},{default:t(()=>[b(N(e.tip),1)]),_:2},1024)):S("",!0)])]),_:2},1032,["span","label","show-label","path"]))),128))]),_:3})]),_:3},8,["model","rules","size"]),l.bottomVisible?(n(),u(be,{key:0,justify:"end"},{default:t(()=>[v(f,{quaternary:"",onClick:E},{default:t(()=>[b(N(l.$t("common.cancel")),1)]),_:1}),v(f,{type:"primary",onClick:le},{default:t(()=>[b(N(l.$t("common.confirm")),1)]),_:1})]),_:1})):S("",!0)]),_:3})]),_:3},8,["show"])]),_:3},8,["show","class","title"]),C.value?(n(),u(Se,{key:0,"show-form-modal":z.value,"onUpdate:showFormModal":r[1]||(r[1]=e=>z.value=e),"form-item-type":M.value,"form-item-key":R.value,"zh-cn-value":B.value,"i18n-form-item-data":p.value,onOnSubmit:te},null,8,["show-form-modal","form-item-type","form-item-key","zh-cn-value","i18n-form-item-data"])):S("",!0)],64)}}});export{fl as _};
