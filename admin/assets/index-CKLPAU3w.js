import{_ as Z}from"./modal-form.vue_vue_type_script_setup_true_lang-BGpCBuuL.js";import{_ as J}from"./search-header-DKkxeb92.js";import{_ as X}from"./table-header-button-group.vue_vue_type_script_setup_true_lang-Co_MiHfJ.js";import{d as Y,r as o,O as ee,U,V as ae,o as te,b as oe,f as n,w as N,W as ne,h,$ as s,a8 as le,B as F,N as se,Z as ie}from"./index-BGn2hxht.js";import{i as ue,j as de,k as re,l as ce,m as me,n as fe}from"./systen-configuration-D8RMvtUQ.js";import{u as pe,N as ge}from"./custom-table-CkjRR_Ue.js";import{_ as ve}from"./Flex-BOUMy5Qd.js";import{_ as he}from"./DataTable-B20boM9S.js";import"./multi-language-form.vue_vue_type_script_setup_true_lang-BLS00VyW.js";import"./custom-upload-BnYTuu-H.js";import"./Grid-D6W4PgKj.js";import"./get-slot-Bk_rJcZu.js";import"./FormItem-hAQEuGNb.js";import"./Spin-CneC0ahg.js";import"./DatePicker-ByFFtn5f.js";import"./TimePicker-B2GQNCjg.js";import"./Forward-BMPR_CvR.js";import"./RadioGroup-QgSZfQqx.js";import"./Space-AspkDbzB.js";function z(c){return typeof c=="function"||Object.prototype.toString.call(c)==="[object Object]"&&!ie(c)}const je=Y({name:"system-config_custom-info_service_sort",__name:"index",setup(c){const{pagination:i,renderCell:A}=pe(),r=o([]),B=o([]),m=ee(),_=o(0),b=o({}),T=o([{type:"Input",valueName:"title",label:"名称",placeholder:"请输入名称"},{type:"Select",valueName:"status",label:"是否开启",defaultOption:[{value:1,label:"开启"},{value:2,label:"关闭"}]}]),L=[{type:"selection"},{title:"名称",key:"name",align:"center"},{title:"是否开启",key:"status",align:"center",render:a=>n(le,{type:a.status===2?"error":"success"},{default:()=>[a.status===2?"隐藏":"显示"]})},{title:"创建时间",key:"create_time",align:"center"},{title:"修改时间",key:"update_time",align:"center"},{title:"操作",key:"action",align:"center",width:300,fixed:"right",render:a=>{let e;return n(ve,{justify:"center"},{default:()=>[n(F,{type:"success",size:"small",onClick:j.bind(null,a.id)},z(e=s("common.modify"))?e:{default:()=>[e]}),n(ge,{"onPositive-click":E.bind(null,a.id)},{default:()=>[s("common.confirmDelete")],trigger:()=>{let u;return n(F,{type:"error",size:"small"},z(u=s("common.delete"))?u:{default:()=>[u]})}})]})}}],w=o([]),d=o(!1),f=o(!1),S=o(!0),p=o(!1),g=o(!1),M=o(!0),v=o(!1),C=o([{type:"Input",valueName:"name",label:"名称"},{type:"Switch",valueName:"status",label:"是否开启",switchChecked:1,switchUnchecked:2,switchCheckedText:"开启",switchUncheckedText:"关闭"}]),k=o([]),y=o([]),D={name:[{required:!0,message:"请输入名称",trigger:["blur"]}]};async function O(a){p.value=!0;const{response:e}=await ue(a);e.data.status===200&&(l(),m.success(s("common.addSuccess")),f.value=!1),p.value=!1}async function j(a){_.value=a;const{data:e}=await de(a);e&&(y.value.forEach(u=>{u.defaultValue=e[u.valueName]}),g.value=!0)}async function P(a){v.value=!0;const{response:e}=await re(_.value,a);e.data.status===200&&(l(),m.success(s("common.modifySuccess")),g.value=!1),v.value=!1}function V(a){b.value=a,i.page=1,l()}function R(a,e){r.value=a,B.value=e}async function l(){d.value=!0;const{data:a}=await ce({page:i.page,limit:i.pageSize,...b.value});w.value=a.list,i.itemCount=a.count,d.value=!1}function I(a){i.page=a,l()}function $(a){i.page=1,i.pageSize=a,l()}async function E(a){d.value=!0;const{response:e}=await me(a);e.data.status===200&&(l(),m.success(s("common.deleteSuccess")))}function H(){f.value=!0}async function K(){d.value=!0;const{response:a}=await fe({id:r.value.join(",")});a.data.status===200&&(l(),r.value=[],m.success(s("common.deleteSuccess")))}return l(),k.value=U(C.value),y.value=U(C.value),(a,e)=>{const u=X,q=J,G=he,Q=se,x=Z,W=ae("resize");return te(),oe("div",null,[n(Q,{title:"分类管理"},{"header-extra":N(()=>[n(u,{"refresh-button-loading":d.value,"onUpdate:refreshButtonLoading":e[0]||(e[0]=t=>d.value=t),"batch-delete-disabled":r.value.length,"onUpdate:batchDeleteDisabled":e[1]||(e[1]=t=>r.value.length=t),"is-export-all":!1,"is-export-filter":!1,"is-export-selected":!1,onAdd:H,onBatchDelete:K,onRefresh:l},null,8,["refresh-button-loading","batch-delete-disabled"])]),default:N(()=>[n(q,{"search-config":T.value,onOnSearch:V},null,8,["search-config"]),ne(n(G,{remote:"",columns:L,data:w.value,loading:d.value,bordered:!1,style:{height:"620px"},"flex-height":"","scroll-x":1e3,pagination:h(i),"row-key":t=>t.id,"render-cell":h(A),"onUpdate:checkedRowKeys":R,"onUpdate:page":I,"onUpdate:pageSize":$},null,8,["data","loading","pagination","row-key","render-cell"]),[[W]])]),_:1}),n(x,{"show-form-modal":f.value,"onUpdate:showFormModal":e[2]||(e[2]=t=>f.value=t),"is-async-shut-down":S.value,"onUpdate:isAsyncShutDown":e[3]||(e[3]=t=>S.value=t),"is-show-modal-loading":p.value,"onUpdate:isShowModalLoading":e[4]||(e[4]=t=>p.value=t),"modal-title":h(s)("common.add"),"modal-form-config":k.value,"form-rules":D,onOnSubmit:O},null,8,["show-form-modal","is-async-shut-down","is-show-modal-loading","modal-title","modal-form-config"]),n(x,{"show-form-modal":g.value,"onUpdate:showFormModal":e[5]||(e[5]=t=>g.value=t),"is-async-shut-down":M.value,"onUpdate:isAsyncShutDown":e[6]||(e[6]=t=>M.value=t),"is-show-modal-loading":v.value,"onUpdate:isShowModalLoading":e[7]||(e[7]=t=>v.value=t),"modal-title":h(s)("common.modify"),"modal-form-config":y.value,"form-rules":D,onOnSubmit:P},null,8,["show-form-modal","is-async-shut-down","is-show-modal-loading","modal-title","modal-form-config"])])}}});export{je as default};
