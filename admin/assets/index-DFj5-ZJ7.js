import{_ as $}from"./search-header-Y2BEBubG.js";import{_ as O}from"./table-header-button-group.vue_vue_type_script_setup_true_lang-CHhYnPru.js";import{d as z,r,V as U,o as L,b as B,f as o,w as _,W as I,h as f,a8 as R,N as E}from"./index-B8uXi1CT.js";import{h as M}from"./user-manage-CxnzfWEu.js";import{g as P}from"./tradeType-lxyOWja6.js";import{g as F}from"./money-setting-aYZn9k11.js";import{u as H}from"./custom-table-CIoqtwR0.js";import{_ as K}from"./DataTable-JXNMHbFE.js";import"./FormItem-BkyFAWg2.js";import"./DatePicker-BJOmBFQz.js";import"./TimePicker-qmmZBHrw.js";import"./Forward-zlCbBpdq.js";import"./Flex-Dd7uI-X0.js";import"./get-slot-Bk_rJcZu.js";import"./RadioGroup-CyWpGGc2.js";const oe=z({name:"fund-management_capital-flow",__name:"index",setup(V){const{pagination:n,renderCell:y}=H(),s=r(!1),d=r([]),m=r({is_trial:"0"}),u=r([{type:"Input",valueName:"search_key_user",label:"账号/姓名",placeholder:"请输入账号/姓名"},{type:"Select",valueName:"is_trial",label:"用户类型",defaultOption:[{value:"0",label:"正式用户"},{value:"1",label:"试玩用户"}]},{type:"Select",valueName:"money_type",label:"币种类型"},{type:"Select",valueName:"type",label:"交易类型",itemWidth:"280px"},{type:"Input",valueName:"order_no",label:"订单号",placeholder:"请输入订单号"},{type:"Input",valueName:"uid",label:"用户id",placeholder:"请输入用户id"},{type:"Datetime",valueName:"create_time",label:"创建时间",datetimeType:"daterange"}]);async function c(){s.value=!0;const{data:e}=await M({page:n.page,limit:n.pageSize,...m.value});d.value=e.list,n.itemCount=e.count,s.value=!1}function v(e){n.page=e,c()}function h(e){n.page=1,n.pageSize=e,c()}const b=[{title:"ID",key:"id",align:"center"},{title:"账号/姓名",key:"user",align:"center",render:e=>o("div",null,[o("p",null,[e.user.account]),o("p",null,[e.user.real_name])])},{title:"正式用户",key:"is_trial",align:"center",render:e=>{var t;return o(R,{type:((t=e.user)==null?void 0:t.is_trial)===1?"error":"success"},{default:()=>{var a;return[((a=e.user)==null?void 0:a.is_trial)===1?"否":"是"]}})}},{title:"交易类型",key:"title",align:"center"},{title:"单号",key:"order_no",align:"center"},{title:"交易金额",key:"number",align:"center"},{title:"币种类型",key:"money_type",align:"center"},{title:"交易后账号余额",key:"balance",align:"center"},{title:"创建时间",key:"create_time",align:"center"},{title:"信息",key:"mark",align:"center",width:"150"}],p=r([]),k=r([]);function g(e){const t=new Date(e);let a=t.getMonth()+1;a=a<10?`0${a}`:a;let l=t.getDate();return l=l<10?`0${l}`:l,`${t.getFullYear().toString()}/${a}/${l}`}function x(e){if(e.create_time){const t=g(e.create_time[0]),a=g(e.create_time[1]);e.create_time=`${t}-${a}`}m.value=e,n.page=1,c()}function D(e,t){p.value=e,k.value=t}async function N(){const{data:e}=await F();u.value.forEach((t,a)=>{t.valueName==="money_type"&&(u.value[a].defaultOption=e.map(l=>({label:l.name,value:l.value})))})}async function S(){const{data:e}=await P(),t=e.map(a=>({label:a.title,value:a.type}));u.value.forEach((a,l)=>{a.valueName==="type"&&(u.value[l].defaultOption=t)})}return S(),N(),c(),(e,t)=>{const a=O,l=$,w=K,C=E,T=U("resize");return L(),B("div",null,[o(C,{title:"资金流水列表"},{"header-extra":_(()=>[o(a,{"refresh-button-loading":s.value,"onUpdate:refreshButtonLoading":t[0]||(t[0]=i=>s.value=i),"export-selected-disabled":p.value.length,"onUpdate:exportSelectedDisabled":t[1]||(t[1]=i=>p.value.length=i),"batch-delete-disabled":p.value.length,"onUpdate:batchDeleteDisabled":t[2]||(t[2]=i=>p.value.length=i),"is-export-all":!1,"is-export-filter":!1,"is-export-selected":!1,"is-batch-delete":!1,"is-add":!1,onRefresh:c},null,8,["refresh-button-loading","export-selected-disabled","batch-delete-disabled"])]),default:_(()=>[o(l,{"search-config":u.value,onOnSearch:x},null,8,["search-config"]),I(o(w,{remote:"",columns:b,data:d.value,pagination:f(n),loading:s.value,bordered:!1,style:{height:"560px"},"flex-height":"","scroll-x":2200,"row-key":i=>i.id,"render-cell":f(y),"onUpdate:checkedRowKeys":D,"onUpdate:page":v,"onUpdate:pageSize":h},null,8,["data","pagination","loading","row-key","render-cell"]),[[T]])]),_:1})])}}});export{oe as default};
