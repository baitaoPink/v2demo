import{_ as e}from"./v-tabs.BGLC4bPo.js";import{u as a,r as t,d as l,p as r,h as o,n as s,o as i,f as d,e as m,A as u,F as n,s as c,t as f,v as _,i as p,J as v,L as w}from"./index-B2xpwpwA.js";import{d as h,r as g}from"./uni-app.es.DSnRb9Bl.js";import{_ as F}from"./qt-tab.CQjsvN4A.js";import{_ as b}from"./qt-number.CH-g_Olh.js";import{_ as $}from"./qt-pages-empty.DkxAzhff.js";import{p as j,q as x}from"./follow.cgHHAECj.js";import{_ as y}from"./_plugin-vue_export-helper.BCo6x5W8.js";const q=y({__name:"follow-record-append",setup(y){const{t:q}=a(),k=t(0),C=t([q("common.pending"),q("common.pass"),q("common.rejected")]),V=t(0),L=t([q("follow.appendList"),q("follow.withdrawList")]),I=t({page:1,limit:10,isFinish:!1}),O=t([]);function S(){if(0===V.value){let e="";0===k.value?e=3:1===k.value?e=1:2===k.value&&(e=2),j({page:I.value.page,limit:I.value.limit,status:e}).then((e=>{O.value=[...O.value,...e.data],0===e.data.length&&(I.value.isFinish=!0)}))}else x({page:I.value.page,limit:I.value.limit,audit_status:parseInt(k.value)+1}).then((e=>{e.data.forEach((e=>{e.order_info||(e.order_info={})})),O.value=[...O.value,...e.data],0===e.data.length&&(I.value.isFinish=!0)}))}function z(e){k.value=e,I.value.isFinish=!1,O.value=[],I.value.page=1,S()}function A(e){V.value=e,z(0)}return h((()=>{I.value.isFinish||(I.value.page++,S())})),A(0),(a,t)=>{const h=g(l("v-tabs"),e),j=s,x=g(l("qt-tab"),F),y=g(l("qt-number"),b),q=g(l("qt-pages-empty"),$);return i(),r(j,null,{default:o((()=>[d(j,{class:"record-main"},{default:o((()=>[d(j,{class:"record-title"},{default:o((()=>[d(h,{modelValue:V.value,tabs:L.value,color:"#808080",activeColor:"#FFFFFF",lineColor:"#FFFFFF","font-size":"28rpx",lineScale:.3,lineHeight:"4rpx",height:"56rpx",pills:"",onChange:A,pillsColor:"#000"},null,8,["modelValue","tabs"])])),_:1}),d(j,{class:"record-tab"},{default:o((()=>[d(x,{tabs:C.value,modelValue:k.value,"onUpdate:modelValue":t[0]||(t[0]=e=>k.value=e),onChange:z},null,8,["tabs","modelValue"])])),_:1}),(i(!0),m(n,null,u(O.value,((e,t)=>(i(),r(j,{class:"record-item",key:t},{default:o((()=>[d(j,{class:"record-item-head"},{default:o((()=>[d(j,{class:"record-item-head-left"},{default:o((()=>[f(_(0===V.value?e.trader_product_name:e.order_info.trader_product_name),1)])),_:2},1024),d(j,{class:"record-item-head-right"},{default:o((()=>[f(_(0===V.value?e.status_text:e.order_info.status_text),1)])),_:2},1024)])),_:2},1024),d(j,{class:"record-item-main"},{default:o((()=>[d(j,{class:"record-item-main-row"},{default:o((()=>[d(j,{class:"record-item-main-row-left"},{default:o((()=>[f(_(a.$t("follow.order_no")),1)])),_:1}),d(j,{class:"record-item-main-row-right"},{default:o((()=>[f(_(e.order_no),1)])),_:2},1024)])),_:2},1024),d(j,{class:"record-item-main-row"},{default:o((()=>[d(j,{class:"record-item-main-row-left"},{default:o((()=>[f(_(0===V.value?a.$t("follow.append"):a.$t("follow.withdraw"))+_(a.$t("common.time")),1)])),_:1}),d(j,{class:"record-item-main-row-right"},{default:o((()=>[f(_(p(v)(e.create_time)),1)])),_:2},1024)])),_:2},1024),d(j,{class:"record-item-main-row"},{default:o((()=>[d(j,{class:"record-item-main-row-left"},{default:o((()=>[f(_(a.$t("follow.trader_name")),1)])),_:1}),d(j,{class:"record-item-main-row-right"},{default:o((()=>[f(_(0===V.value?e.trader_name:e.order_info.trader_name),1)])),_:2},1024)])),_:2},1024),d(j,{class:"record-item-main-row"},{default:o((()=>[d(j,{class:"record-item-main-row-left"},{default:o((()=>[f(_(0===V.value?a.$t("follow.append"):a.$t("follow.withdraw"))+_(a.$t("common.money")),1)])),_:1}),d(j,{class:"record-item-main-row-right"},{default:o((()=>[d(y,{data:e.money},null,8,["data"])])),_:2},1024)])),_:2},1024),d(j,{class:"record-item-main-row"},{default:o((()=>[d(j,{class:"record-item-main-row-left"},{default:o((()=>[f(_(a.$t("follow.state")),1)])),_:1}),d(j,{class:w(["record-item-main-row-right status-text",{btg:2===k.value}])},{default:o((()=>[f(_(0===k.value?a.$t("common.pending"):"")+" "+_(1===k.value?a.$t("common.pass"):"")+" "+_(2===k.value?a.$t("common.rejected"):""),1)])),_:1},8,["class"])])),_:1}),e.audit_remark?(i(),r(j,{key:0,class:"record-item-main-row"},{default:o((()=>[d(j,{class:"record-item-main-row-left"},{default:o((()=>[f(_(a.$t("follow.audit_remark")),1)])),_:1}),d(j,{class:"record-item-main-row-right"},{default:o((()=>[f(_(e.audit_remark),1)])),_:2},1024)])),_:2},1024)):c("",!0)])),_:2},1024)])),_:2},1024)))),128)),0===O.value.length?(i(),r(q,{key:0,status:"empty"})):c("",!0)])),_:1})])),_:1})}}},[["__scopeId","data-v-aa5cac5f"]]);export{q as default};
