import{u as a,r as l,d as e,p as t,h as u,l as s,ak as o,aE as i,n,o as d,f as p,t as r,v as m,Q as c,s as _,i as f,ac as v,ab as w,e as h,A as y,F as g,ae as k,E as b,D as j,bh as $}from"./index-B2xpwpwA.js";import{_ as C}from"./wd-gap.BTJcE1Vl.js";import{o as x,r as V}from"./uni-app.es.DSnRb9Bl.js";import{_ as T}from"./wd-button.C5ofvjh5.js";import{_ as U}from"./wd-popup.DoF1ewYn.js";import{u as F,_ as A}from"./wd-message-box.CEsBvNb5.js";import{_ as B}from"./arrow-right.CUcqDX27.js";import{_ as D}from"./tick.DzZJUBoq.js";import{_ as G}from"./purse.ClFPqDE6.js";import{_ as N}from"./popup-tip.DHQajVz-.js";import{q}from"./qt-password-pay.qUy-cTPI.js";import{k as E,l as I}from"./wallet.B0psIO5E.js";import"./useTranslate.CisUcI6B.js";import{_ as M}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./props.3mmIwxF7.js";import"./wd-icon.av9Pe6hJ.js";import"./base64.3RFQOR3W.js";import"./wd-input.DWD3v5sG.js";import"./useParent.qK3nwHc2.js";import"./close.DRSZaJDX.js";import"./eye-close.svmFXsMK.js";const P=M({__name:"withdrawal-wallet",setup(M){const P=F(),{t:S}=a(),H=l(""),O=l(!1),Q=l(["USD","CND","CFG","CFG","INTO"]),R=l(""),z=l(""),J=l(!1),K=l(!1),L=l(!1),W=l(!1);function X(){R.value?H.value?K.value=!0:k({title:S("withdrawal.input-money"),icon:"none"}):k({title:S("withdrawal.select-wallet"),icon:"none"})}function Y(a){J.value||(J.value=!0,setTimeout((()=>{J.value=!1}),2e3),I({pay_psw:a,amount:H.value,purse_id:Q.value[z.value].id}).then((()=>{L.value=!0})))}function Z(){W.value=!1,s({}).then((a=>{a.data.id_card&&1===a.data.id_card.status&&(W.value=!0),a.data.passport&&1===a.data.passport.status&&(W.value=!0),W.value||P.confirm({title:S("common.tip"),msg:S("common.authentication_tip"),confirmButtonText:S("setting.toReal"),cancelButtonText:S("common.cancel")}).then((()=>{o()})).catch((()=>{i()}))}))}return x((()=>{E({}).then((a=>{Q.value=a.data})),Z()})),(a,l)=>{const s=b,o=n,k=j,x=V(e("wd-gap"),C),F=$,E=V(e("wd-button"),T),I=V(e("wd-popup"),U),M=V(e("wd-message-box"),A);return d(),t(o,null,{default:u((()=>[p(o,{class:"list",onClick:l[0]||(l[0]=a=>O.value=!0)},{default:u((()=>[p(o,{class:"list-item"},{default:u((()=>[p(s,null,{default:u((()=>[r(m(a.$t("withdrawal.wallet")),1)])),_:1})])),_:1}),p(o,{class:"list-right"},{default:u((()=>[p(s,{style:c(z.value?"":"color: #38393C;")},{default:u((()=>[r(m(Q.value[z.value]?Q.value[z.value].payment.name:a.$t("withdrawal.select-money")),1)])),_:1},8,["style"]),p(k,{src:B,mode:""})])),_:1})])),_:1}),p(x,{"bg-color":"#000",height:"16rpx"}),p(o,{class:"list"},{default:u((()=>[p(o,{class:"list-item"},{default:u((()=>[p(s,null,{default:u((()=>[r(m(a.$t("withdrawal.availableBalance")),1)])),_:1})])),_:1}),p(o,{class:"list-right"},{default:u((()=>[p(s,null,{default:u((()=>[r("$"+m(R.value?Q.value[z.value].payment.user_money:"0"),1)])),_:1})])),_:1})])),_:1}),p(x,{"bg-color":"#262627",height:"1rpx"}),p(o,{class:"list"},{default:u((()=>[p(o,{class:"list-item"},{default:u((()=>[p(s,null,{default:u((()=>[r(m(a.$t("withdrawal.money")),1)])),_:1})])),_:1})])),_:1}),p(o,{class:"import"},{default:u((()=>[p(F,{modelValue:H.value,"onUpdate:modelValue":l[1]||(l[1]=a=>H.value=a),placeholder:a.$t("withdrawal.input-money")},null,8,["modelValue","placeholder"]),p(o,{class:"main-region",onClick:l[2]||(l[2]=a=>R.value?H.value=Q.value[z.value].payment.user_money:H.value=0)},{default:u((()=>[r(m(a.$t("withdrawal.all")),1)])),_:1})])),_:1}),p(o,{class:"hint"},{default:u((()=>[p(o,{class:"hint-left"}),p(o,{class:"hint-right"},{default:u((()=>[p(s,null,{default:u((()=>[r(m(a.$t("withdrawal.min"))+"："+m(R.value?Q.value[z.value].payment.withdrawal_min_money:"0.00")+" "+m(R.value?"("+Q.value[z.value].payment.money_type+")":""),1)])),_:1}),p(s,null,{default:u((()=>[r(m(a.$t("withdrawal.max-amount"))+"："+m(R.value?Q.value[z.value].payment.withdrawal_max_money:"0.00")+" "+m(R.value?"("+Q.value[z.value].payment.money_type+")":""),1)])),_:1})])),_:1})])),_:1}),p(x,{"bg-color":"#121317",height:"30rpx"}),p(x,{"bg-color":"#000",height:"16rpx"}),p(o,{class:"list"},{default:u((()=>[p(o,{class:"list-item"},{default:u((()=>[p(s,null,{default:u((()=>[r(m(a.$t("withdrawal.fee")),1)])),_:1})])),_:1}),p(o,{class:"list-right"},{default:u((()=>[R.value?_("",!0):(d(),t(s,{key:0},{default:u((()=>[r("0.00")])),_:1})),R.value&&1==Q.value[z.value].payment.withdrawal_fee_type?(d(),t(s,{key:1},{default:u((()=>[r("$"+m(Q.value[z.value].payment.withdrawal_fee_number),1)])),_:1})):_("",!0),R.value&&2==Q.value[z.value].payment.withdrawal_fee_type?(d(),t(s,{key:2},{default:u((()=>[r("$"+m((H.value*(.01*Q.value[z.value].payment.withdrawal_exchange_rate)).toFixed(2)),1)])),_:1})):_("",!0)])),_:1})])),_:1}),p(o,{class:"smelts"},{default:u((()=>[r(m(a.$t("withdrawal.attention")),1)])),_:1}),p(x,{"bg-color":"#000",height:"16rpx"}),p(o,{class:"smelts mb-0"},{default:u((()=>[r(m(a.$t("withdrawal.matters-need-attention"))+"：",1)])),_:1}),p(o,{class:"smelts"},{default:u((()=>[r(m(a.$t("withdrawal.tips2")),1)])),_:1}),p(o,{class:"button-bottom"},{default:u((()=>[p(E,{onClick:l[3]||(l[3]=a=>f(v)(X))},{default:u((()=>[r(m(a.$t("withdrawal.submit")),1)])),_:1})])),_:1}),p(x,{"bg-color":"#121317",height:"30rpx"}),p(I,{modelValue:O.value,"onUpdate:modelValue":l[4]||(l[4]=a=>O.value=a),position:"bottom","custom-style":" background-color: #181A1C;"},{default:u((()=>[p(o,{class:"popup-content"},{default:u((()=>[p(o,{class:"popup-title"},{default:u((()=>[p(s,null,{default:u((()=>[r(m(a.$t("withdrawal.select-wallet-tips")),1)])),_:1})])),_:1}),p(o,{class:"popup-runs"},{default:u((()=>[p(s,{onClick:f(w)},{default:u((()=>[r(m(a.$t("withdrawal.add-wallet")),1)])),_:1},8,["onClick"])])),_:1})])),_:1}),(d(!0),h(g,null,y(Q.value,((l,e)=>(d(),t(o,{class:"popup-content",key:e,onClick:a=>{return l=e,R.value=Q.value[l].payment.name,z.value=l,void(O.value=!1);var l}},{default:u((()=>[p(o,{class:"popup-title"},{default:u((()=>[p(k,{src:l.payment.logo,mode:"",onClick:a.uploading},null,8,["src","onClick"]),p(s,null,{default:u((()=>[r(m(l.payment.name),1)])),_:2},1024)])),_:2},1024),p(o,{class:"popup-runs"},{default:u((()=>[e==z.value?(d(),t(k,{key:0,src:D,mode:"",onClick:a.uploading},null,8,["onClick"])):_("",!0),e!=z.value?(d(),t(k,{key:1,mode:"",onClick:a.uploading},null,8,["onClick"])):_("",!0)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),0==Q.value.length?(d(),t(o,{key:0,class:"no-wallet"},{default:u((()=>[p(k,{src:G,mode:""}),p(s,null,{default:u((()=>[r(m(a.$t("withdrawal.no-wallet")),1)])),_:1})])),_:1})):_("",!0)])),_:1},8,["modelValue"]),p(f(q),{modelValue:K.value,"onUpdate:modelValue":l[5]||(l[5]=a=>K.value=a),title:a.$t("withdrawal.input-password"),onPaySuccess:Y},null,8,["modelValue","title"]),p(I,{modelValue:L.value,"onUpdate:modelValue":l[7]||(l[7]=a=>L.value=a),"custom-style":"background: #000"},{default:u((()=>[p(o,{class:"popup-tip"},{default:u((()=>[p(k,{src:N}),p(o,{class:"popup-tip-title"},{default:u((()=>[r(m(a.$t("setting.submit.tip")),1)])),_:1}),p(o,{class:"popup-bottom"},{default:u((()=>[p(s,{onClick:l[6]||(l[6]=a=>f(i)())},{default:u((()=>[r(m(a.$t("recharge.confirm")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),p(M)])),_:1})}}},[["__scopeId","data-v-e4410721"]]);export{P as default};
