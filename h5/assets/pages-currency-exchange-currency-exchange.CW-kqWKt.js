import{u as e,r as a,aP as t,cO as l,as as n,d as s,e as o,f as u,h as c,F as r,cP as i,n as d,o as m,i as p,aE as f,t as v,v as A,cQ as y,cR as w,ac as g,A as k,ae as h,cS as _,D as J,E as T,p as x,s as b,a1 as S,a2 as B}from"./index-B2xpwpwA.js";import{_ as j}from"./wd-icon.av9Pe6hJ.js";import{o as R,r as C}from"./uni-app.es.DSnRb9Bl.js";import{_ as G}from"./wd-navbar.Cm5X2aH8.js";import{_ as K}from"./wd-input.DWD3v5sG.js";import{_ as N}from"./wd-button.C5ofvjh5.js";import{_ as L}from"./wd-popup.DoF1ewYn.js";import{_ as E}from"./historical-records.NAoIfmZH.js";import{_ as V}from"./tick.DzZJUBoq.js";import{_ as D}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./props.3mmIwxF7.js";import"./useParent.qK3nwHc2.js";import"./useTranslate.CisUcI6B.js";import"./base64.3RFQOR3W.js";const H=D({__name:"currency-exchange",setup(D){const{t:H}=e(),I=a(!1),W=a(!1),Y=a({}),P=a(!1),U=a({}),Q=a(""),z=a({money_type_all:[],money_type_target:[]}),M=t({money:"",target:""});function O(){i({money_type_out:Y.value.money_type,money_type_in:U.value.money_type}).then((e=>{Q.value=e.data.exchange_rate,F()}))}function Z(){M.money=Y.value.can_used,F()}function F(){let e=M.money*Q.value;""===M.money?M.target="":M.target=e.toFixed(4)}function q(){M.money?Y.value.id!==U.value.id?(I.value||(I.value=!0,setTimeout((()=>{I.value=!1}),2e3)),_({money_type_out:Y.value.money_type,money_type_in:U.value.money_type,money:M.money}).then((e=>{h({title:e.msg,icon:"none",complete:async function(){f()}})}))):h({title:H("transfer.same-currency"),icon:"none"}):h({title:H("transfer.input-amount"),icon:"none"})}return R((()=>{l({}).then((e=>{e.data.money_type_target=[...e.data.money_type_all],z.value=e.data,Y.value=z.value.money_type_all[0],U.value=z.value.money_type_target[0],n("instructions",e.data.instructions),O()}))})),(e,a)=>{const t=C(s("wd-icon"),j),l=d,n=J,i=C(s("wd-navbar"),G),h=C(s("wd-input"),K),_=T,R=C(s("wd-button"),N),D=C(s("wd-popup"),L);return m(),o(r,null,[u(i,{safeAreaInsetTop:"",title:"",bordered:!1,"custom-style":"background-color: #121317;"},{left:c((()=>[u(t,{name:"thin-arrow-left",size:"28rpx",color:"#fff",onClick:p(f)},null,8,["onClick"])])),title:c((()=>[u(l,{class:"text-eee-17"},{default:c((()=>[v(A(e.$t("transfer")),1)])),_:1})])),right:c((()=>[u(l,{class:"head-right"},{default:c((()=>[u(n,{src:"data:image/png;base64,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",alt:"",onClick:p(y)},null,8,["onClick"]),u(n,{src:E,alt:"",onClick:p(w)},null,8,["onClick"])])),_:1})])),_:1}),u(l,{class:"exchange-main"},{default:c((()=>[u(l,{class:"exchange-title"},{default:c((()=>[v(A(e.$t("transfer.from")),1)])),_:1}),u(l,{class:"exchange-input"},{default:c((()=>[u(h,{modelValue:M.money,"onUpdate:modelValue":a[0]||(a[0]=e=>M.money=e),placeholder:e.$t("transfer.please-enter")+e.$t("transfer.amount"),placeholderStyle:"color:#38393C",onInput:F},null,8,["modelValue","placeholder"]),u(l,{class:"exchange-input-all",onClick:Z},{default:c((()=>[v(A(e.$t("transfer.max")),1)])),_:1}),u(l,{class:"exchange-input-line"}),u(l,{class:"exchange-input-icon"},{default:c((()=>[u(n,{src:Y.value.icon_url},null,8,["src"])])),_:1}),u(_,{onClick:a[1]||(a[1]=e=>W.value=!0)},{default:c((()=>[v(A(Y.value.name),1)])),_:1}),u(t,{name:"arrow-down",onClick:a[2]||(a[2]=e=>W.value=!0)})])),_:1}),u(l,{class:"exchange-tip"},{default:c((()=>[v(A(e.$t("transfer.available"))+"："+A(Y.value.can_used)+" "+A(Y.value.name),1)])),_:1}),u(l,{class:"exchange-rate"},{default:c((()=>[u(l,{class:"exchange-rate-left"},{default:c((()=>[u(_,null,{default:c((()=>[v(A(e.$t("transfer.reference-exchange-rate"))+" 1 "+A(Y.value.name)+" ≈ "+A(Q.value)+" "+A(U.value.name),1)])),_:1}),u(_,{class:"active-text",onClick:O},{default:c((()=>[v(A(e.$t("transfer.refresh")),1)])),_:1})])),_:1}),u(l,{class:"exchange-rate-right"},{default:c((()=>[u(l,{class:"exchange-rate-right-top"}),u(l,{class:"exchange-rate-right-bottom"})])),_:1})])),_:1}),u(l,{class:"exchange-title"},{default:c((()=>[v(A(e.$t("transfer.to")),1)])),_:1}),u(l,{class:"exchange-input"},{default:c((()=>[u(h,{modelValue:M.target,"onUpdate:modelValue":a[3]||(a[3]=e=>M.target=e),placeholder:"",disabled:!0},null,8,["modelValue"]),u(l,{class:"exchange-input-line"}),u(l,{class:"exchange-input-icon"},{default:c((()=>[u(n,{src:U.value.icon_url},null,8,["src"])])),_:1}),u(_,{onClick:a[4]||(a[4]=e=>P.value=!0)},{default:c((()=>[v(A(U.value.name),1)])),_:1}),u(t,{name:"arrow-down",onClick:a[5]||(a[5]=e=>P.value=!0)})])),_:1}),u(l,{class:"exchange-tip"},{default:c((()=>[v(A(e.$t("transfer.estimated-to-complete-exchange")),1)])),_:1})])),_:1}),u(l,{class:"button-bottom"},{default:c((()=>[u(R,{onClick:a[6]||(a[6]=e=>p(g)(q))},{default:c((()=>[v(A(e.$t("transfer.confirm-exchange")),1)])),_:1})])),_:1}),u(D,{modelValue:W.value,"onUpdate:modelValue":a[7]||(a[7]=e=>W.value=e),position:"bottom"},{default:c((()=>[u(l,{class:"popup-currency"},{default:c((()=>[(m(!0),o(r,null,k(z.value.money_type_all,((a,t)=>(m(),x(l,{class:"popup-currency-row",key:t+1,onClick:e=>function(e){Y.value=e,W.value=!1,O()}(a)},{default:c((()=>[u(l,{class:"popup-currency-row-left"},{default:c((()=>[u(n,{src:a.icon_url},null,8,["src"]),v(" "+A(a.money_type)+"("+A(a.name)+") ",1),Y.value.id===a.id?(m(),x(l,{key:0,class:"active"},{default:c((()=>[v(A(e.$t("transfer.default")),1)])),_:1})):b("",!0)])),_:2},1024),u(l,{class:"popup-currency-row-right"},{default:c((()=>[Y.value.id===a.id?(m(),x(n,{key:0,src:V,mode:""})):b("",!0)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1},8,["modelValue"]),u(D,{modelValue:P.value,"onUpdate:modelValue":a[8]||(a[8]=e=>P.value=e),position:"bottom"},{default:c((()=>[u(l,{class:"popup-currency"},{default:c((()=>[(m(!0),o(r,null,k(z.value.money_type_target,((a,t)=>S((m(),x(l,{class:"popup-currency-row",key:t+1,onClick:e=>function(e){U.value=e,P.value=!1,O()}(a)},{default:c((()=>[u(l,{class:"popup-currency-row-left"},{default:c((()=>[u(n,{src:a.icon_url},null,8,["src"]),v(" "+A(a.money_type)+"("+A(a.name)+") ",1),U.value.id===a.id?(m(),x(l,{key:0,class:"active"},{default:c((()=>[v(A(e.$t("transfer.default")),1)])),_:1})):b("",!0)])),_:2},1024),u(l,{class:"popup-currency-row-right"},{default:c((()=>[U.value.id===a.id?(m(),x(n,{key:0,src:V,mode:""})):b("",!0)])),_:2},1024)])),_:2},1032,["onClick"])),[[B,a.id!==Y.value.id]]))),128))])),_:1})])),_:1},8,["modelValue"])],64)}}},[["__scopeId","data-v-7e1f609c"]]);export{H as default};
