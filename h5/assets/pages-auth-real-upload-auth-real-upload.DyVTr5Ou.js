import{u as e,r as t,bb as a,d as l,p as o,h as s,n as i,o as n,f as u,t as d,v as r,e as p,F as m,s as _,i as c,ac as f,ae as g,da as v,bg as b,D as $}from"./index-B2xpwpwA.js";import{_ as h}from"./wd-input.DWD3v5sG.js";import{a as k,r as y}from"./uni-app.es.DSnRb9Bl.js";import{_ as j}from"./wd-button.C5ofvjh5.js";import{_ as V}from"./qt-upload.CTXXccCG.js";import{_ as w}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./wd-icon.av9Pe6hJ.js";import"./props.3mmIwxF7.js";import"./useParent.qK3nwHc2.js";import"./useTranslate.CisUcI6B.js";import"./base64.3RFQOR3W.js";import"./wd-popup.DoF1ewYn.js";import"./wd-loading.COtG1mNE.js";const C=w({__name:"auth-real-upload",setup(w){const{t:C}=e(),x=t(""),I=t({name:"",id_card:"",front:"",front_id_img:"",reverse:"",back_id_img:""}),S=t({}),U=t(null);function q(e,t){S.value={type:e,typeName:t},U.value.uploading()}function A(e){I.value[S.value.type]=e.url,I.value[S.value.typeName]=e.name}function F(){if(!I.value.name)return void g({title:C("common.enter")+C("setting.real_name"),icon:"none"});let e="";if(e="passport"===x.value?C("setting.passport_number"):C("setting.idCard_number"),!I.value.id_card)return void g({title:C("common.enter")+e,icon:"none"});if(!I.value.front_id_img)return void g({title:C("common.upload")+e+C("setting.front"),icon:"none"});if(!I.value.back_id_img)return void g({title:C("common.upload")+e+C("setting.back"),icon:"none"});let t={name:I.value.name,id_card:I.value.id_card,front_id_img:I.value.front_id_img,back_id_img:I.value.back_id_img,type:"passport"===x.value?"2":"1"};v(t).then((e=>{g({title:e.msg,icon:"none"}),setTimeout((()=>{b()}),1e3)}))}return k((e=>{x.value=e.type,"id"===e.type?a({title:C("setting.idCard")}):a({title:C("setting.passport")})})),(e,t)=>{const a=i,g=y(l("wd-input"),h),v=$,b=y(l("wd-button"),j),k=y(l("qt-upload"),V);return n(),o(a,null,{default:s((()=>[u(a,{class:"upload-main"},{default:s((()=>[u(a,{class:"upload-title"},{default:s((()=>[d(r(e.$t("setting.real_name")),1)])),_:1}),u(a,{class:"upload-input"},{default:s((()=>[u(g,{modelValue:I.value.name,"onUpdate:modelValue":t[0]||(t[0]=e=>I.value.name=e),placeholder:e.$t("common.enter")+e.$t("setting.real_name"),placeholderStyle:"color:#797A81"},null,8,["modelValue","placeholder"])])),_:1}),"id"===x.value?(n(),p(m,{key:0},[u(a,{class:"upload-title"},{default:s((()=>[d(r(e.$t("setting.idCard_number")),1)])),_:1}),u(a,{class:"upload-input"},{default:s((()=>[u(g,{modelValue:I.value.id_card,"onUpdate:modelValue":t[1]||(t[1]=e=>I.value.id_card=e),placeholder:e.$t("common.enter")+e.$t("setting.idCard_number"),placeholderStyle:"color:#797A81"},null,8,["modelValue","placeholder"])])),_:1})],64)):_("",!0),"passport"===x.value?(n(),p(m,{key:1},[u(a,{class:"upload-title"},{default:s((()=>[d(r(e.$t("setting.passport_number")),1)])),_:1}),u(a,{class:"upload-input"},{default:s((()=>[u(g,{modelValue:I.value.id_card,"onUpdate:modelValue":t[2]||(t[2]=e=>I.value.id_card=e),placeholder:e.$t("common.enter")+e.$t("setting.passport_number"),placeholderStyle:"color:#797A81"},null,8,["modelValue","placeholder"])])),_:1})],64)):_("",!0),u(a,{class:"upload-title upload-title-2"},{default:s((()=>[d(r("passport"===x.value?e.$t("setting.passport_upload"):e.$t("setting.idCard_upload")),1)])),_:1}),u(a,{class:"upload-info"},{default:s((()=>[u(a,{class:"upload-item"},{default:s((()=>[I.value.front?(n(),o(v,{key:0,src:I.value.front},null,8,["src"])):(n(),o(v,{key:1,src:"/assets/photo-front-DzHEp2St.png",mode:"widthFix"})),u(a,{class:"upload-btn",onClick:t[3]||(t[3]=e=>q("front","front_id_img"))},{default:s((()=>[d(r(e.$t("setting.front_upload")),1)])),_:1})])),_:1}),u(a,{class:"upload-item"},{default:s((()=>[I.value.reverse?(n(),o(v,{key:0,src:I.value.reverse},null,8,["src"])):(n(),o(v,{key:1,src:"/assets/photo-reverse-BgZ9IehV.png",mode:"widthFix"})),u(a,{class:"upload-btn",onClick:t[4]||(t[4]=e=>q("reverse","back_id_img"))},{default:s((()=>[d(r(e.$t("setting.back_upload")),1)])),_:1})])),_:1})])),_:1}),u(a,{class:"upload-tip"},{default:s((()=>[d(r(e.$t("setting.precautions")),1)])),_:1}),u(a,{class:"upload-tip-text"},{default:s((()=>[d("1."+r(e.$t("setting.real_tip1"))+r("passport"===x.value?e.$t("setting.real_tip2"):e.$t("setting.real_tip3"))+";",1)])),_:1}),u(a,{class:"upload-tip-text"},{default:s((()=>[d(" 2."+r(e.$t("setting.real_tip4"))+r("passport"===x.value?e.$t("setting.real_tip5"):e.$t("setting.real_tip6"))+"ã€‚ ",1)])),_:1})])),_:1}),u(a,{class:"button-bottom"},{default:s((()=>[u(b,{onClick:t[5]||(t[5]=e=>c(f)(F))},{default:s((()=>[d(r(e.$t("setting.submit")),1)])),_:1})])),_:1}),u(k,{ref_key:"uploadRef",ref:U,onUploadImg:A},null,512)])),_:1})}}},[["__scopeId","data-v-bed6b0b3"]]);export{C as default};
