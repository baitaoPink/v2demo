import{u as a,r as e,bb as l,d as t,p as s,h as u,n as d,o,f as n,t as i,v as p,s as r,i as c,ac as m,ae as _,bg as f,E as v,bh as w,D as h,bi as j}from"./index-B2xpwpwA.js";import{_ as y}from"./qt-upload.CTXXccCG.js";import{a as k,r as b}from"./uni-app.es.DSnRb9Bl.js";import{_ as g}from"./upload-pictures.D6TFzxAS.js";import{a as $,p as V}from"./wallet.B0psIO5E.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./wd-popup.DoF1ewYn.js";import"./wd-icon.av9Pe6hJ.js";import"./props.3mmIwxF7.js";import"./wd-loading.COtG1mNE.js";import"./base64.3RFQOR3W.js";const C=x({__name:"me-digital-currency-add",setup(x){const{t:C}=a(),T=e(""),q=e(""),I=e(""),R=e(""),U=e(""),D=e(""),E=e(!1);function H(){I.value?R.value?E.value||(E.value=!0,setTimeout((()=>{E.value=!1}),2e3),V({id:U.value,payment_id:D.value,payment_as_name:I.value,address:R.value,collection_code:q.value,type:2,chain_name:"TRC20"}).then((a=>{_({title:a.msg,icon:"none"}),setTimeout((()=>{f()}),1e3)}))):_({title:C("wallet.address"),icon:"none"}):_({title:C("wallet.input-alias"),icon:"none"})}k((a=>{a.id&&(l({title:C("wallet.edit-wallet")}),U.value=a.id,$("/"+a.id).then((a=>{D.value=a.data.payment.id,U.value=a.data.id,R.value=a.data.address,T.value=a.data.collection_code,I.value=a.data.payment_as_name})))}));const J=e(null);function M(){J.value.uploading()}function z(a){T.value=a.url,q.value=a.name}return(a,e)=>{const l=v,_=d,f=w,k=h,$=j,V=b(t("qt-upload"),y);return o(),s(_,null,{default:u((()=>[n(_,{class:"title"},{default:u((()=>[n(l,null,{default:u((()=>[i(p(a.$t("wallet.alias")),1)])),_:1})])),_:1}),n(_,{class:"input"},{default:u((()=>[n(f,{type:"text",modelValue:I.value,"onUpdate:modelValue":e[0]||(e[0]=a=>I.value=a),placeholder:a.$t("wallet.input-alias")},null,8,["modelValue","placeholder"])])),_:1}),n(_,{class:"title"},{default:u((()=>[n(l,null,{default:u((()=>[i(p(a.$t("wallet.address")),1)])),_:1})])),_:1}),n(_,{class:"input"},{default:u((()=>[n(f,{type:"text",modelValue:R.value,"onUpdate:modelValue":e[1]||(e[1]=a=>R.value=a),placeholder:a.$t("wallet.input-address")},null,8,["modelValue","placeholder"])])),_:1}),n(_,{class:"network-wrapper"},{default:u((()=>[n(_,null,{default:u((()=>[i(p(a.$t("withdrawal.select-network")),1)])),_:1}),n(_,{class:"network-content"},{default:u((()=>[n(_,{class:"item active"},{default:u((()=>[i("TRC20")])),_:1})])),_:1})])),_:1}),n(_,{class:"title"},{default:u((()=>[n(l,null,{default:u((()=>[i(p(a.$t("wallet.upload-code-tip")),1)])),_:1})])),_:1}),n(_,{class:"upload"},{default:u((()=>[T.value?r("",!0):(o(),s(_,{key:0,class:"upload-content",onClick:M},{default:u((()=>[n(k,{src:g,mode:""})])),_:1})),T.value?(o(),s(_,{key:1,class:"img"},{default:u((()=>[n(k,{src:T.value,mode:"",onClick:M},null,8,["src"])])),_:1})):r("",!0)])),_:1}),n($,{onClick:e[2]||(e[2]=a=>c(m)(H)),class:"wd-button"},{default:u((()=>[i(p(a.$t("wallet.submit")),1)])),_:1}),n(V,{ref_key:"uploadRef",ref:J,onUploadImg:z},null,512)])),_:1})}}},[["__scopeId","data-v-889f571e"]]);export{C as default};
