import{u as e,a,c as s,r as t,d as l,p as o,h as d,d4 as r,n as u,o as n,f as c,t as i,v as m,e as p,A as f,F as _,i as g,a9 as v,s as y,d5 as h,an as b,ac as j,ae as k,d6 as w,d7 as x,D as $,E as C,L as T}from"./index-B2xpwpwA.js";import{_ as V}from"./qt-number.CH-g_Olh.js";import{o as q,r as F}from"./uni-app.es.DSnRb9Bl.js";import{_ as B}from"./wd-checkbox.5Lxw8Lvp.js";import{u as A,_ as M}from"./wd-message-box.CEsBvNb5.js";import{_ as P}from"./vip.7wTQZTE4.js";import{_ as S,a as U}from"./star.yrGmBtDd.js";import"./useTranslate.CisUcI6B.js";import{q as D}from"./qt-password-pay.qUy-cTPI.js";import{_ as E}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./wd-icon.av9Pe6hJ.js";import"./props.3mmIwxF7.js";import"./useParent.qK3nwHc2.js";import"./wd-popup.DoF1ewYn.js";import"./wd-button.C5ofvjh5.js";import"./base64.3RFQOR3W.js";import"./wd-input.DWD3v5sG.js";import"./close.DRSZaJDX.js";import"./eye-close.svmFXsMK.js";const I=E({__name:"grade-buy",setup(E){const{t:I}=e(),L=a(),O=s((()=>L.systemConfig)),Q=A(),z=t(!1),G=t(!1),H=t({}),J=t({money:{},current:{}}),K=t({money:"",trader_id:"",days_id:"",lv:""});function N(){""!==K.value.days_id?z.value?G.value=!0:Q.confirm({title:I("common.systemTip"),msg:I("common.userAgreement")+"？",confirmButtonText:I("common.sure"),cancelButtonText:I("common.cancel")}).then((()=>{z.value=!0})):k({title:I("common.select")+I("grade.buy"),icon:"none"})}function R(e){w({lv:K.value.lv,pay_password:e}).then((e=>{k({title:e.msg}),W(),setTimeout((()=>{x()}),1e3)}))}function W(){r({}).then((e=>{J.value=e.data}))}return q((()=>{W()})),(e,a)=>{const s=u,t=$,r=F(l("qt-number"),V),k=C,w=F(l("wd-checkbox"),B),x=F(l("wd-message-box"),M);return n(),o(s,null,{default:d((()=>[c(s,{class:"grade-main"},{default:d((()=>[c(s,{class:"grade-head"},{default:d((()=>[c(s,{class:"grade-head-left"},{default:d((()=>[c(s,{class:"grade-head-left-tip"},{default:d((()=>[i(m(e.$t("grade.vip")),1)])),_:1}),c(s,{class:"grade-head-left-info"},{default:d((()=>[c(t,{src:P}),i(" "+m(J.value.current.name),1)])),_:1})])),_:1}),c(s,{class:"grade-head-right"})])),_:1}),c(s,{class:"grade-title"},{default:d((()=>[i(m(e.$t("grade.buy")),1)])),_:1}),c(s,{class:"grade-type"},{default:d((()=>[(n(!0),p(_,null,f(J.value.list,((e,a)=>(n(),o(s,{class:T(["grade-type-item",{disable:0===e.open,active:e.id===K.value.days_id}]),onClick:a=>function(e){1===e.open&&(K.value.days_id=e.id,K.value.lv=e.lv,H.value=e)}(e),key:a+1},{default:d((()=>[c(s,null,{default:d((()=>[c(r,{data:e.price},null,8,["data"])])),_:2},1024),c(k,null,{default:d((()=>[i(m(e.name),1)])),_:2},1024),1===e.open?(n(),o(t,{key:0,src:S})):(n(),o(t,{key:1,src:U}))])),_:2},1032,["onClick","class"])))),128))])),_:1}),c(s,{class:"grade-title"},{default:d((()=>[c(s,{class:"grade-title-left"},{default:d((()=>[c(s,null,{default:d((()=>[i(m(e.$t("follow.buyType")),1)])),_:1})])),_:1}),c(s,{class:"grade-title-right"},{default:d((()=>["1"==O.value.open_user_recharge?(n(),o(k,{key:0,onClick:g(v)},{default:d((()=>[i(m(e.$t("positions.recharge")),1)])),_:1},8,["onClick"])):y("",!0),c(k,{onClick:g(h)},{default:d((()=>[i(m(e.$t("page.currency-exchange")),1)])),_:1},8,["onClick"])])),_:1})])),_:1}),c(s,{class:"grade-input-text"},{default:d((()=>[i(m(J.value.money.name)+" ( "+m(e.$t("positions.balance"))+" ",1),c(r,{data:J.value.money.balance},null,8,["data"]),i(" ) ")])),_:1})])),_:1}),c(s,{class:"grade-bottom"},{default:d((()=>[c(s,{class:"grade-bottom-head"},{default:d((()=>[c(w,{shape:"square","checked-color":"#F39F2F",modelValue:z.value,"onUpdate:modelValue":a[0]||(a[0]=e=>z.value=e)},null,8,["modelValue"]),c(s,null,{default:d((()=>[i(m(e.$t("common.agreement")),1)])),_:1}),c(k,{onClick:a[1]||(a[1]=e=>g(b)({code:"follow_agreement"}))},{default:d((()=>[i("《"+m(e.$t("common.service"))+"》",1)])),_:1})])),_:1}),c(s,{class:"grade-bottom-btn",onClick:a[2]||(a[2]=e=>g(j)(N))},{default:d((()=>[i(m(e.$t("grade.sureBuy")),1)])),_:1})])),_:1}),c(g(D),{modelValue:G.value,"onUpdate:modelValue":a[3]||(a[3]=e=>G.value=e),title:e.$t("grade.buy"),onPaySuccess:R},null,8,["modelValue","title"]),c(x)])),_:1})}}},[["__scopeId","data-v-37775127"]]);export{I as default};
