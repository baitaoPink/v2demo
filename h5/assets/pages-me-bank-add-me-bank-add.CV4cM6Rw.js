import{u as a,r as e,bb as l,p as t,h as n,n as u,o as d,f as s,t as o,v as i,i as c,ac as p,ae as r,bg as m,E as b,bh as v,bi as _}from"./index-B2xpwpwA.js";import{a as f}from"./uni-app.es.DSnRb9Bl.js";import{c as k,e as h}from"./wallet.B0psIO5E.js";import{_ as w}from"./_plugin-vue_export-helper.BCo6x5W8.js";const V=w({__name:"me-bank-add",setup(w){const{t:V}=a(),$=e(""),y=e(""),x=e(""),j=e(""),U=e(""),g=e(!1);function T(){if($.value)if(y.value)if(x.value){var a={bank_name:$.value,bank_branch:j.value,bank_address:x.value,bank_account:y.value,id:U.value};g.value||(g.value=!0,setTimeout((()=>{g.value=!1}),2e3),h(a).then((a=>{r({title:a.msg,icon:"none"}),setTimeout((()=>{m()}),1e3)})))}else r({title:V("wallet.input-bank-city"),icon:"none"});else r({title:V("wallet.input-bank-card-number"),icon:"none"});else r({title:V("wallet.input-bank-name"),icon:"none"})}return f((a=>{a.id&&(l({title:V("wallet.edit-bank-card")}),U.value=a.id,k("/"+a.id).then((a=>{U.value=a.data.id,$.value=a.data.bank_name,y.value=a.data.bank_account,x.value=a.data.bank_address,j.value=a.data.bank_branch})))})),(a,e)=>{const l=b,r=u,m=v,f=_;return d(),t(r,null,{default:n((()=>[s(r,{class:"title"},{default:n((()=>[s(l,null,{default:n((()=>[o(i(a.$t("wallet.bank-account-name")),1)])),_:1})])),_:1}),s(r,{class:"input"},{default:n((()=>[s(m,{type:"text",modelValue:$.value,"onUpdate:modelValue":e[0]||(e[0]=a=>$.value=a),placeholder:a.$t("wallet.input-bank-name")},null,8,["modelValue","placeholder"])])),_:1}),s(r,{class:"title"},{default:n((()=>[s(l,null,{default:n((()=>[o(i(a.$t("wallet.bank-card-number")),1)])),_:1})])),_:1}),s(r,{class:"input"},{default:n((()=>[s(m,{type:"number",modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=a=>y.value=a),placeholder:a.$t("wallet.input-bank-card-number")},null,8,["modelValue","placeholder"])])),_:1}),s(r,{class:"title"},{default:n((()=>[s(l,null,{default:n((()=>[o(i(a.$t("wallet.bank-city")),1)])),_:1})])),_:1}),s(r,{class:"input"},{default:n((()=>[s(m,{type:"text",modelValue:x.value,"onUpdate:modelValue":e[2]||(e[2]=a=>x.value=a),placeholder:a.$t("wallet.input-bank-city")},null,8,["modelValue","placeholder"])])),_:1}),s(r,{class:"title"},{default:n((()=>[s(l,null,{default:n((()=>[o(i(a.$t("wallet.bank-branch-name")),1)])),_:1})])),_:1}),s(r,{class:"input"},{default:n((()=>[s(m,{type:"text",modelValue:j.value,"onUpdate:modelValue":e[3]||(e[3]=a=>j.value=a),placeholder:a.$t("wallet.input-bank-branch-name")},null,8,["modelValue","placeholder"])])),_:1}),s(f,{onClick:e[4]||(e[4]=a=>c(p)(T)),class:"wd-button"},{default:n((()=>[o(i(a.$t("wallet.submit")),1)])),_:1})])),_:1})}}},[["__scopeId","data-v-6a5c81e6"]]);export{V as default};
