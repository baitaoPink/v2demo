import{u as e,r as a,bw as l,d as o,p as t,h as r,n as s,o as d,f as u,i as n,aE as i,t as m,v as p,d0 as c,e as f,A as _,F as w,s as v,ac as h,ae as y,D as $,E as g,J as b,L as k,af as j}from"./index-B2xpwpwA.js";import{_ as V}from"./wd-icon.av9Pe6hJ.js";import{d as x,r as C}from"./uni-app.es.DSnRb9Bl.js";import{_ as P}from"./wd-navbar.Cm5X2aH8.js";import{_ as T}from"./qt-tab.CQjsvN4A.js";import{_ as U}from"./wd-gap.BTJcE1Vl.js";import{_ as q}from"./qt-number.CH-g_Olh.js";import{_ as A}from"./qt-pages-empty.DkxAzhff.js";import{_ as F}from"./wd-input.DWD3v5sG.js";import{_ as S}from"./wd-button.C5ofvjh5.js";import{_ as I}from"./wd-popup.DoF1ewYn.js";import{_ as O}from"./historical-records.NAoIfmZH.js";import{_ as z}from"./close.DRSZaJDX.js";import{a as E,b as L,c as M}from"./follow.cgHHAECj.js";import{_ as D}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./props.3mmIwxF7.js";import"./v-tabs.BGLC4bPo.js";import"./useParent.qK3nwHc2.js";import"./useTranslate.CisUcI6B.js";import"./base64.3RFQOR3W.js";const J=D({__name:"follow-record",setup(D){const{t:J}=e(),N=a(0),Q=a([J("common.pending"),J("common.followIn"),J("common.end"),J("common.rejected")]),B=a({page:1,limit:10,isFinish:!1}),G=a([]),H=a({}),K=a(!1),R=a({price:"",day_number:"",pay_password:""}),W=a(!1),X=a({order_id:"",money:"",pay_pwd:""});let Y=!0;function Z(){let e=parseInt(N.value)+1;4===e?e=3:3===e&&(e=4),E({page:B.value.page,limit:B.value.limit,list_status:e}).then((e=>{G.value=[...G.value,...e.data],0===e.data.length&&(B.value.isFinish=!0)}))}function ee(e){N.value=e,B.value.isFinish=!1,G.value=[],B.value.page=1,Z()}function ae(e){H.value={...e},R.value={price:"",day_number:"",pay_password:""},K.value=!0}function le(){if(!R.value.price)return void y({title:J("common.enter")+J("follow.append")+J("common.money"),icon:"none"});0===parseFloat(R.value.price)%100?R.value.pay_password?L(R.value,H.value.id).then((e=>{y({title:e.msg,icon:"none"}),setTimeout((()=>{ee(N.value)}),1e3),K.value=!1})):y({title:J("common.enter")+J("common.fundPassword"),icon:"none"}):y({title:J("follow.appendTip"),icon:"none"})}function oe(){X.value.money?X.value.pay_pwd?(X.value.order_id=H.value.id,M(X.value).then((e=>{y({title:e.msg,icon:"none"}),setTimeout((()=>{ee(N.value)}),1e3),K.value=!1}))):y({title:J("common.enter")+J("common.fundPassword"),icon:"none"}):y({title:J("common.enter")+J("follow.withdraw")+J("common.money"),icon:"none"})}return-1!==l().indexOf("zh")&&(Y=!1),x((()=>{B.value.isFinish||(B.value.page++,Z())})),Z(),(e,a)=>{const l=C(o("wd-icon"),V),y=s,x=$,E=C(o("wd-navbar"),P),L=C(o("qt-tab"),T),M=C(o("wd-gap"),U),D=C(o("qt-number"),q),J=g,B=C(o("qt-pages-empty"),A),Z=C(o("wd-input"),F),te=C(o("wd-button"),S),re=C(o("wd-popup"),I);return d(),t(y,null,{default:r((()=>[u(E,{safeAreaInsetTop:"",title:"",bordered:!1,"custom-style":"background-color: #000;"},{left:r((()=>[u(l,{name:"thin-arrow-left",size:"28rpx",color:"#fff",onClick:n(i)},null,8,["onClick"])])),title:r((()=>[u(y,{class:"text-eee-17"},{default:r((()=>[m(p(e.$t("page.follow-record")),1)])),_:1})])),right:r((()=>[u(y,{class:"head-text"},{default:r((()=>[u(x,{src:O,alt:"",onClick:n(c)},null,8,["onClick"])])),_:1})])),_:1}),u(y,{class:"record-main"},{default:r((()=>[u(L,{tabs:Q.value,modelValue:N.value,"onUpdate:modelValue":a[0]||(a[0]=e=>N.value=e),onChange:ee},null,8,["tabs","modelValue"]),u(M,{"bg-color":"#000",height:"30rpx"}),(d(!0),f(w,null,_(G.value,((a,l)=>(d(),t(y,{class:"record-item",key:l},{default:r((()=>[u(y,{class:"record-item-head"},{default:r((()=>[u(y,{class:"record-item-head-left"},{default:r((()=>[m(p(a.trader_product_name),1)])),_:2},1024),u(y,{class:"record-item-head-right"},{default:r((()=>[m(p(a.order_type_str),1)])),_:2},1024)])),_:2},1024),u(y,{class:"record-item-main"},{default:r((()=>[u(y,{class:"record-item-main-row"},{default:r((()=>[u(y,{class:"record-item-main-row-left"},{default:r((()=>[m(p(e.$t("follow.order_no")),1)])),_:1}),u(y,{class:"record-item-main-row-right"},{default:r((()=>[m(p(a.order_no),1)])),_:2},1024)])),_:2},1024),u(y,{class:"record-item-main-row"},{default:r((()=>[u(y,{class:"record-item-main-row-left"},{default:r((()=>[m(p(e.$t("follow.follow_time")),1)])),_:1}),u(y,{class:"record-item-main-row-right"},{default:r((()=>[u(y,null,{default:r((()=>[m(p(n(b)(a.start_time)),1)])),_:2},1024),u(y,null,{default:r((()=>[m(p(e.$t("follow.to")),1)])),_:1}),u(y,null,{default:r((()=>[m(p(n(b)(a.end_time)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),u(y,{class:"record-item-main-row"},{default:r((()=>[u(y,{class:"record-item-main-row-left"},{default:r((()=>[m(p(e.$t("follow.trader_name")),1)])),_:1}),u(y,{class:"record-item-main-row-right"},{default:r((()=>[m(p(a.trader_name),1)])),_:2},1024)])),_:2},1024),u(y,{class:"record-item-main-row"},{default:r((()=>[u(y,{class:"record-item-main-row-left"},{default:r((()=>[m(p(e.$t("follow.money")),1)])),_:1}),u(y,{class:"record-item-main-row-right"},{default:r((()=>[u(D,{data:a.money},null,8,["data"])])),_:2},1024)])),_:2},1024),u(y,{class:"record-item-main-row"},{default:r((()=>[u(y,{class:"record-item-main-row-left"},{default:r((()=>[m(p(e.$t("follow.commission")),1)])),_:1}),u(y,{class:"record-item-main-row-right"},{default:r((()=>[m(p(a.commission),1)])),_:2},1024)])),_:2},1024),u(y,{class:"record-item-main-row"},{default:r((()=>[u(y,{class:"record-item-main-row-left"},{default:r((()=>[m(p(e.$t("follow.create_time")),1)])),_:1}),u(y,{class:"record-item-main-row-right"},{default:r((()=>[m(p(n(b)(a.create_time)),1)])),_:2},1024)])),_:2},1024),u(y,{class:"record-item-main-row"},{default:r((()=>[u(y,{class:"record-item-main-row-left"},{default:r((()=>[m(p(e.$t("follow.status_text")),1)])),_:1}),u(y,{class:k(["record-item-main-row-right status-text",{btg:2===N.value||3===N.value}])},{default:r((()=>[m(p(a.order_status_str),1)])),_:2},1032,["class"])])),_:2},1024),a.audit_remark?(d(),t(y,{key:0,class:"record-item-main-row"},{default:r((()=>[u(y,{class:"record-item-main-row-left"},{default:r((()=>[m(p(e.$t("follow.audit_remark")),1)])),_:1}),u(y,{class:"record-item-main-row-right"},{default:r((()=>[m(p(a.audit_remark),1)])),_:2},1024)])),_:2},1024)):v("",!0)])),_:2},1024),u(y,{class:"record-item-bottom"},{default:r((()=>[1===a.withdraw_profit_can?(d(),t(y,{key:0,class:k(["record-item-btn",{p32:!n(Y)}]),onClick:e=>function(e){H.value={...e},X.value={order_id:"",money:"",pay_pwd:""},W.value=!0}(a)},{default:r((()=>[m(p(e.$t("follow.withdraw")),1)])),_:2},1032,["class","onClick"])):v("",!0),1===N.value&&2===a.order_type?(d(),t(y,{key:1,class:k(["record-item-btn",{p32:!n(Y)}]),onClick:e=>ae(a)},{default:r((()=>[m(p(e.$t("follow.append")),1)])),_:2},1032,["class","onClick"])):v("",!0),0===N.value&&1===a.order_type?(d(),t(y,{key:2,class:k(["record-item-btn",{p32:!n(Y)}]),onClick:e=>ae(a)},{default:r((()=>[m(p(e.$t("follow.append")),1)])),_:2},1032,["class","onClick"])):v("",!0),u(J,{onClick:e=>function(e){j({id:e.id})}(a),class:k({p32:!n(Y)})},{default:r((()=>[m(p(e.$t("common.details")),1)])),_:2},1032,["onClick","class"])])),_:2},1024)])),_:2},1024)))),128)),0===G.value.length?(d(),t(B,{key:0,status:"empty"})):v("",!0)])),_:1}),u(re,{modelValue:K.value,"onUpdate:modelValue":a[5]||(a[5]=e=>K.value=e),position:"bottom"},{default:r((()=>[u(y,{class:"record-popup"},{default:r((()=>[u(y,{class:"popup-header"},{default:r((()=>[u(y,{class:"popup-header-title"},{default:r((()=>[m(p(e.$t("follow.append")),1)])),_:1}),u(x,{src:z,onClick:a[1]||(a[1]=e=>K.value=!1)})])),_:1}),u(y,{class:"popup-main"},{default:r((()=>[u(y,{class:"popup-main-title"},{default:r((()=>[m(p(e.$t("follow.append"))+p(e.$t("common.money")),1),u(J,null,{default:r((()=>[m("("+p(e.$t("follow.appendTip"))+")",1)])),_:1})])),_:1}),u(y,{class:"popup-input"},{default:r((()=>[u(Z,{modelValue:R.value.price,"onUpdate:modelValue":a[2]||(a[2]=e=>R.value.price=e),placeholder:e.$t("common.enter")+e.$t("common.money"),placeholderStyle:"color:#797A81"},null,8,["modelValue","placeholder"])])),_:1}),u(y,{class:"popup-main-title"},{default:r((()=>[m(p(e.$t("common.fundPassword")),1)])),_:1}),u(y,{class:"popup-input"},{default:r((()=>[u(Z,{"show-password":"",modelValue:R.value.pay_password,"onUpdate:modelValue":a[3]||(a[3]=e=>R.value.pay_password=e),placeholder:e.$t("common.enter")+e.$t("common.fundPassword"),placeholderStyle:"color:#797A81"},null,8,["modelValue","placeholder"])])),_:1}),u(y,{class:"popup-row"},{default:r((()=>[u(y,null,{default:r((()=>[m(p(e.$t("follow.money_available")),1)])),_:1}),u(y,{class:"popup-row-text"},{default:r((()=>[m(p(H.value.user_money),1)])),_:1})])),_:1}),u(y,{class:"popup-row"},{default:r((()=>[u(y,null,{default:r((()=>[m(p(e.$t("follow.firstMoney")),1)])),_:1}),u(y,{class:"popup-row-text"},{default:r((()=>[m(p(H.value.money),1)])),_:1})])),_:1}),u(y,{class:"popup-tip"},{default:r((()=>[m(p(e.$t("follow.appendText"))+"ã€‚ ",1)])),_:1}),u(te,{onClick:a[4]||(a[4]=e=>n(h)(le))},{default:r((()=>[m(p(e.$t("common.sure")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),u(re,{modelValue:W.value,"onUpdate:modelValue":a[10]||(a[10]=e=>W.value=e),position:"bottom"},{default:r((()=>[u(y,{class:"record-popup"},{default:r((()=>[u(y,{class:"popup-header"},{default:r((()=>[u(y,{class:"popup-header-title"},{default:r((()=>[m(p(e.$t("follow.withdraw")),1)])),_:1}),u(x,{src:z,onClick:a[6]||(a[6]=e=>W.value=!1)})])),_:1}),u(y,{class:"popup-main"},{default:r((()=>[u(y,{class:"popup-main-title"},{default:r((()=>[m(p(e.$t("follow.withdraw"))+p(e.$t("common.money")),1)])),_:1}),u(y,{class:"popup-input"},{default:r((()=>[u(Z,{modelValue:X.value.money,"onUpdate:modelValue":a[7]||(a[7]=e=>X.value.money=e),placeholder:e.$t("common.enter")+e.$t("common.money"),placeholderStyle:"color:#797A81"},null,8,["modelValue","placeholder"])])),_:1}),u(y,{class:"popup-main-title"},{default:r((()=>[m(p(e.$t("common.fundPassword")),1)])),_:1}),u(y,{class:"popup-input"},{default:r((()=>[u(Z,{"show-password":"",modelValue:X.value.pay_pwd,"onUpdate:modelValue":a[8]||(a[8]=e=>X.value.pay_pwd=e),placeholder:e.$t("common.enter")+e.$t("common.fundPassword"),placeholderStyle:"color:#797A81"},null,8,["modelValue","placeholder"])])),_:1}),u(y,{class:"popup-row"},{default:r((()=>[u(y,null,{default:r((()=>[m(p(e.$t("follow.withdraw_profit_can_money")),1)])),_:1}),u(y,{class:"popup-row-text"},{default:r((()=>[u(D,{data:H.value.withdraw_profit_can_money},null,8,["data"])])),_:1})])),_:1}),u(y,{class:"popup-row"},{default:r((()=>[u(y,null,{default:r((()=>[m(p(e.$t("follow.withdraw_profit_min")),1)])),_:1}),u(y,{class:"popup-row-text"},{default:r((()=>[u(D,{data:H.value.withdraw_profit_min},null,8,["data"])])),_:1})])),_:1}),u(y,{class:"popup-row"},{default:r((()=>[u(y,null,{default:r((()=>[m(p(e.$t("follow.withdraw_profit_times")),1)])),_:1}),u(y,{class:"popup-row-text"},{default:r((()=>[u(J,{class:"active"},{default:r((()=>[m(p(H.value.withdraw_profit_times),1)])),_:1}),m(p(e.$t("follow.order")),1)])),_:1})])),_:1}),u(y,{class:"popup-row"},{default:r((()=>[u(y,null,{default:r((()=>[m(p(e.$t("follow.withdraw_profit_time")),1)])),_:1}),u(y,{class:"popup-row-text"},{default:r((()=>[m(p(H.value.withdraw_profit_time),1)])),_:1})])),_:1}),u(te,{onClick:a[9]||(a[9]=e=>n(h)(oe))},{default:r((()=>[m(p(e.$t("common.sure")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}}},[["__scopeId","data-v-45eaddce"]]);export{J as default};
