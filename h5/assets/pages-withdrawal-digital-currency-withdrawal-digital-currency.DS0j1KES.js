import{u as a,r as e,d as l,p as t,h as u,l as s,ak as o,aE as i,n,o as d,f as r,t as c,v as p,Q as m,e as _,A as v,F as f,s as h,i as w,ab as g,ac as y,ae as b,E as k,D as $,bh as x,L as j}from"./index-B2xpwpwA.js";import{_ as C}from"./wd-button.C5ofvjh5.js";import{o as V,r as U}from"./uni-app.es.DSnRb9Bl.js";import{_ as F}from"./wd-popup.DoF1ewYn.js";import{u as S,_ as T}from"./wd-message-box.CEsBvNb5.js";import{_ as D}from"./arrow-right.CUcqDX27.js";import{_ as A}from"./tick.DzZJUBoq.js";import{_ as B}from"./popup-tip.DHQajVz-.js";import{q as H}from"./qt-password-pay.qUy-cTPI.js";import{f as M,g as q,h as E}from"./wallet.B0psIO5E.js";import"./useTranslate.CisUcI6B.js";import{_ as N}from"./wd-gap.BTJcE1Vl.js";import{_ as P}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./wd-icon.av9Pe6hJ.js";import"./props.3mmIwxF7.js";import"./base64.3RFQOR3W.js";import"./wd-input.DWD3v5sG.js";import"./useParent.qK3nwHc2.js";import"./close.DRSZaJDX.js";import"./eye-close.svmFXsMK.js";const z=P({__name:"withdrawal-digital-currency",setup(P){const z=S(),{t:I}=a(),L=e(""),Q=e(""),R=e([]),G=e("-1"),J=e(""),K=e(""),O=e(!1),W=e(!1),X=e(!1),Y=e(!1),Z=e(!1),aa=e(!1);function ea(a){J.value=R.value[a].name,G.value=a,W.value=!1,"USD"===R.value[a].money_type&&sa(R.value[a].chain_name_list[0])}function la(){if(!J.value)return void b({title:I("withdrawal.select-moneyType"),icon:"none"});if(!L.value)return void b({title:I("withdrawal.input-address"),icon:"none"});if(!Q.value)return void b({title:I("withdrawal.input-money"),icon:"none"});const a=R.value[G.value].limit_time_start,e=R.value[G.value].limit_time_end,l=new Date,t=`${l.getHours().toString().padStart(2,"0")}:${l.getMinutes().toString().padStart(2,"0")}`;if(a&&e){if(!(ta(t)>=ta(a)&&ta(t)<=ta(e)))return b({title:I("withdrawal.withdrawal-time")+"："+a+"-"+e,icon:"none"}),!1;X.value=!0}X.value=!0}function ta(a){const e=new Date,[l,t]=a.split(":").map(Number);return e.setHours(l,t,0,0),e.getTime()}function ua(a){O.value||(O.value=!0,setTimeout((()=>{O.value=!1}),2e3),E({pay_psw:a,amount:Q.value,payment_id:R.value[G.value].id,purse_address:L.value,chain_name:K.value}).then((()=>{Y.value=!0})))}function sa(a){K.value=a.label}function oa(){aa.value=!1,s({}).then((a=>{a.data.id_card&&1===a.data.id_card.status&&(aa.value=!0),a.data.passport&&1===a.data.passport.status&&(aa.value=!0),aa.value||z.confirm({title:I("common.tip"),msg:I("common.authentication_tip"),confirmButtonText:I("setting.toReal"),cancelButtonText:I("common.cancel")}).then((()=>{o()})).catch((()=>{i()}))})),q({}).then((a=>{a.data.length>0?L.value=a.data[0].address:Z.value=!0}))}return M({}).then((a=>{R.value=a.data,a.data.length>0&&ea(0)})),V((()=>{oa()})),(a,e)=>{const s=k,o=n,b=$,V=x,S=U(l("wd-button"),C),M=U(l("wd-popup"),F),q=U(l("wd-message-box"),T);return d(),t(o,null,{default:u((()=>[r(o,{class:"list",onClick:e[0]||(e[0]=a=>W.value=!0)},{default:u((()=>[r(o,{class:"list-item"},{default:u((()=>[r(s,null,{default:u((()=>[c(p(a.$t("withdrawal.moneyType")),1)])),_:1})])),_:1}),r(o,{class:"list-right"},{default:u((()=>[r(s,{style:m(J.value?"":"color: #38393C;")},{default:u((()=>[c(p(J.value?J.value:a.$t("withdrawal.select-money")),1)])),_:1},8,["style"]),r(b,{src:D,mode:""})])),_:1})])),_:1}),r(N,{"bg-color":"#000",height:"16rpx"}),R.value[G.value]&&R.value[G.value].chain_name_list.length>0?(d(),t(o,{key:0,class:"network-wrapper"},{default:u((()=>[r(o,null,{default:u((()=>[c(p(a.$t("withdrawal.select-network")),1)])),_:1}),r(o,{class:"network-content"},{default:u((()=>[(d(!0),_(f,null,v(R.value[G.value].chain_name_list,((a,e)=>(d(),t(o,{class:j([{active:K.value===a.label},"item"]),key:e,onClick:e=>sa(a)},{default:u((()=>[c(p(a.label),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})):h("",!0),R.value[G.value]&&R.value[G.value].chain_name_list.length>0?(d(),t(o,{key:1,style:{"text-align":"center",background:"#000","line-height":"100rpx",color:"red","box-sizing":"border-box"}},{default:u((()=>[c(p(a.$t("withdrawal.current-exchange-rate"))+"：1USD = 1USDT ",1)])),_:1})):h("",!0),r(o,{class:"list"},{default:u((()=>[r(o,{class:"list-item"},{default:u((()=>[r(s,null,{default:u((()=>[c(p(a.$t("withdrawal.wallet"))+p(a.$t("withdrawal.address")),1)])),_:1})])),_:1})])),_:1}),r(o,{onClick:w(g),class:"import"},{default:u((()=>[r(V,{type:"text",modelValue:L.value,"onUpdate:modelValue":e[1]||(e[1]=a=>L.value=a),readonly:!0,placeholder:a.$t("withdrawal.input-address")},null,8,["modelValue","placeholder"])])),_:1},8,["onClick"]),r(N,{"bg-color":"rgb(18,19,23)",height:"36rpx"}),r(N,{"bg-color":"#000",height:"16rpx"}),r(o,{class:"list"},{default:u((()=>[r(o,{class:"list-item"},{default:u((()=>[r(s,null,{default:u((()=>[c(p(a.$t("withdrawal.availableBalance")),1)])),_:1})])),_:1}),r(o,{class:"list-right"},{default:u((()=>[r(s,null,{default:u((()=>[c("$"+p(J.value?R.value[G.value].user_money:"0"),1)])),_:1})])),_:1})])),_:1}),r(N,{"bg-color":"#262627",height:"1rpx"}),r(o,{class:"list"},{default:u((()=>[r(o,{class:"list-item"},{default:u((()=>[r(s,null,{default:u((()=>[c(p(a.$t("withdrawal.money")),1)])),_:1})])),_:1})])),_:1}),r(o,{class:"import"},{default:u((()=>[r(V,{modelValue:Q.value,"onUpdate:modelValue":e[2]||(e[2]=a=>Q.value=a),placeholder:a.$t("withdrawal.input-money")},null,8,["modelValue","placeholder"]),r(o,{class:"main-region",onClick:e[3]||(e[3]=a=>J.value?Q.value=R.value[G.value].user_money:Q.value=0)},{default:u((()=>[c(p(a.$t("withdrawal.all")),1)])),_:1})])),_:1}),r(o,{class:"hint"},{default:u((()=>[r(o,{class:"hint-left"}),r(o,{class:"hint-right"},{default:u((()=>[r(s,null,{default:u((()=>[c(p(a.$t("withdrawal.min"))+"："+p(J.value?R.value[G.value].withdrawal_min_money:"0.00")+" "+p(J.value?"("+R.value[G.value].money_type+")":""),1)])),_:1}),r(s,null,{default:u((()=>[c(p(a.$t("withdrawal.max"))+"："+p(J.value?R.value[G.value].withdrawal_max_money:"0.00")+" "+p(J.value?"("+R.value[G.value].money_type+")":""),1)])),_:1})])),_:1})])),_:1}),r(N,{"bg-color":"#121317",height:"30rpx"}),r(N,{"bg-color":"#000",height:"16rpx"}),r(o,{class:"list"},{default:u((()=>[r(o,{class:"list-item"},{default:u((()=>[r(s,null,{default:u((()=>[c(p(a.$t("withdrawal.fee")),1)])),_:1})])),_:1}),r(o,{class:"list-right"},{default:u((()=>[J.value?h("",!0):(d(),t(s,{key:0},{default:u((()=>[c("0.00")])),_:1})),J.value&&1==R.value[G.value].withdrawal_fee_type?(d(),t(s,{key:1},{default:u((()=>[c("$"+p(R.value[G.value].withdrawal_fee_number),1)])),_:1})):h("",!0),J.value&&2==R.value[G.value].withdrawal_fee_type?(d(),t(s,{key:2},{default:u((()=>[c("$"+p((Q.value*(.01*R.value[G.value].withdrawal_exchange_rate)).toFixed(2)),1)])),_:1})):h("",!0)])),_:1})])),_:1}),r(o,{class:"smelts"},{default:u((()=>[c(p(a.$t("withdrawal.tips")),1)])),_:1}),r(N,{"bg-color":"#000",height:"16rpx"}),r(o,{class:"black"},{default:u((()=>[r(o,{class:"smelts mb-0"},{default:u((()=>[c(p(a.$t("withdrawal.matters-need-attention"))+"：",1)])),_:1}),r(o,{class:"smelts"},{default:u((()=>[c(p(a.$t("withdrawal.tips2")),1)])),_:1}),r(o,{class:"button-bottom"},{default:u((()=>[r(S,{onClick:e[4]||(e[4]=a=>w(y)(la))},{default:u((()=>[c(p(a.$t("withdrawal.submit")),1)])),_:1})])),_:1})])),_:1}),r(N,{"bg-color":"#121317",height:"110rpx"}),r(M,{modelValue:W.value,"onUpdate:modelValue":e[5]||(e[5]=a=>W.value=a),position:"bottom","custom-style":" background-color: #181A1C;"},{default:u((()=>[(d(!0),_(f,null,v(R.value,((e,l)=>(d(),t(o,{class:"popup-content",key:l,onClick:a=>ea(l)},{default:u((()=>[r(o,{class:"popup-title"},{default:u((()=>[r(b,{src:e.logo,mode:"",onClick:a.uploading},null,8,["src","onClick"]),r(s,null,{default:u((()=>[c(p(e.name),1)])),_:2},1024)])),_:2},1024),r(o,{class:"popup-runs"},{default:u((()=>[r(s,null,{default:u((()=>[c(p(e.chain_name),1)])),_:2},1024),l==G.value?(d(),t(b,{key:0,src:A,mode:"",onClick:a.uploading},null,8,["onClick"])):h("",!0),l!=G.value?(d(),t(b,{key:1,mode:"",onClick:a.uploading},null,8,["onClick"])):h("",!0)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["modelValue"]),r(w(H),{modelValue:X.value,"onUpdate:modelValue":e[6]||(e[6]=a=>X.value=a),title:a.$t("withdrawal.input-password"),onPaySuccess:ua},null,8,["modelValue","title"]),r(M,{modelValue:Y.value,"onUpdate:modelValue":e[8]||(e[8]=a=>Y.value=a),"custom-style":"background: #000"},{default:u((()=>[r(o,{class:"popup-tip"},{default:u((()=>[r(b,{src:B}),r(o,{class:"popup-tip-title"},{default:u((()=>[c(p(a.$t("setting.submit.tip")),1)])),_:1}),r(o,{class:"popup-bottom"},{default:u((()=>[r(s,{onClick:e[7]||(e[7]=a=>w(i)())},{default:u((()=>[c(p(a.$t("recharge.confirm")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),r(M,{modelValue:Z.value,"onUpdate:modelValue":e[11]||(e[11]=a=>Z.value=a),"custom-style":"background: #000"},{default:u((()=>[r(o,{class:"popup-tip"},{default:u((()=>[r(b,{src:B}),r(o,{class:"popup-tip-title"},{default:u((()=>[c(p(a.$t("withdrawal.withdrawal-address-hint")),1)])),_:1}),r(o,{class:"popup-bottom"},{default:u((()=>[r(s,{onClick:e[9]||(e[9]=a=>w(i)()),style:{color:"#FFFFFF"}},{default:u((()=>[c(p(a.$t("common.cancel")),1)])),_:1}),r(s,{onClick:e[10]||(e[10]=a=>w(g)())},{default:u((()=>[c(p(a.$t("recharge.confirm")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),r(q)])),_:1})}}},[["__scopeId","data-v-f29bf695"]]);export{z as default};
