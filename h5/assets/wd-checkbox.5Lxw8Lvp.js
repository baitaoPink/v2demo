import{aI as e,c as l,w as a,aO as s,o,p as t,h as u,L as c,Q as d,f as r,s as n,T as i,n as m,bG as p}from"./index-B2xpwpwA.js";import{_ as h}from"./wd-icon.av9Pe6hJ.js";import{u as b}from"./useParent.qK3nwHc2.js";import{b as v,m as f,i as x,k}from"./props.3mmIwxF7.js";import{_}from"./_plugin-vue_export-helper.BCo6x5W8.js";const V=Symbol("wd-checkbox-group"),g=_(e({name:"wd-checkbox",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...v,customLabelClass:f(""),customShapeClass:f(""),modelValue:{type:[String,Number,Boolean],required:!0,default:!1},shape:{type:String},checkedColor:String,disabled:{type:[Boolean,null],default:null},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},size:String,maxWidth:String},emits:["change","update:modelValue"],setup(e,{expose:v,emit:f}){const _=e,g=f;v({toggle:O});const{parent:y,index:$}=b(V),S=l((()=>y?y.props.modelValue.indexOf(_.modelValue)>-1:_.modelValue===_.trueValue)),w=l((()=>0===$.value)),C=l((()=>{const e=x(y)?y.children:[];return $.value===e.length-1})),{proxy:j}=p();a((()=>_.modelValue),(()=>{y&&y&&y.children&&y.children.forEach((e=>{e.$.uid!==j.$.uid&&e.modelValue===_.modelValue&&console.error(`The checkbox's bound value: ${_.modelValue} has been used`)}))})),a((()=>_.shape),(e=>{const l=["circle","square","button"];x(e)&&-1===l.indexOf(e)&&console.error(`shape must be one of ${l.toString()}`)}));const q=l((()=>_.shape||k(y,"props.shape")||"circle")),B=l((()=>_.checkedColor||k(y,"props.checkedColor"))),z=l((()=>{if(!y)return _.disabled;const{max:e,min:l,modelValue:a,disabled:s}=y.props;return!!(e&&a.length>=e&&!S.value||l&&a.length<=l&&S.value||!0===_.disabled||s&&null===_.disabled)||_.disabled})),I=l((()=>k(y,"props.inline")||!1)),L=l((()=>k(y,"props.cell")||!1)),N=l((()=>_.size||k(y,"props.size")));function O(){if(!z.value)if(y)g("change",{value:!S.value}),y.changeSelectState(_.modelValue);else{const e=_.modelValue===_.trueValue?_.falseValue:_.trueValue;g("update:modelValue",e),g("change",{value:e})}}return s((()=>{null===_.modelValue&&console.error("checkbox's value must be set")})),(e,l)=>{const a=m;return o(),t(a,{class:c(`wd-checkbox ${L.value?"is-cell-box":""} ${"button"===q.value?"is-button-box":""} ${S.value?"is-checked":""} ${w.value?"is-first-child":""} ${C.value?"is-last-child":""} ${I.value?"is-inline":""} ${"button"===q.value?"is-button":""} ${z.value?"is-disabled":""} ${N.value?"is-"+N.value:""} ${e.customClass}`),style:d(e.customStyle),onClick:O},{default:u((()=>["button"!==q.value?(o(),t(a,{key:0,class:c(`wd-checkbox__shape ${"square"===q.value?"is-square":""} ${e.customShapeClass}`),style:d(S.value&&!z.value&&B.value?"color :"+B.value:"")},{default:u((()=>[r(h,{"custom-class":"wd-checkbox__check",name:"check-bold"})])),_:1},8,["class","style"])):n("",!0),r(a,{class:c(`wd-checkbox__label ${e.customLabelClass}`),style:d(S.value&&"button"===q.value&&!z.value&&B.value?"color:"+B.value:"")},{default:u((()=>["button"===q.value&&S.value?(o(),t(h,{key:0,"custom-class":"wd-checkbox__btn-check",name:"check-bold"})):n("",!0),r(a,{class:"wd-checkbox__txt",style:d(e.maxWidth?"max-width:"+e.maxWidth:"")},{default:u((()=>[i(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3},8,["class","style"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-b8ddd006"]]);export{g as _};
